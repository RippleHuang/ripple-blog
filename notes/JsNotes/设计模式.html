<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JSè®¾è®¡æ¨¡å¼ | å¿ƒæ™´æ— äº‘</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/assets/img/logo.jpg">
    <meta name="description" content="è®°å½•èµ°è¿‡çš„å‰ç«¯ä¹‹è·¯">
    <meta name="author" content="å­¦ä¹ ä¸åˆ†äº«,å‘å…¨æ ˆå‰è¿›">
    <meta name="keywords" content="ä¸ªäººåšå®¢">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.599e030f.css" as="style"><link rel="preload" href="/assets/js/app.c625429e.js" as="script"><link rel="preload" href="/assets/js/4.23b04796.js" as="script"><link rel="preload" href="/assets/js/1.f570230b.js" as="script"><link rel="preload" href="/assets/js/35.6508a0d4.js" as="script"><link rel="preload" href="/assets/js/20.dde36c97.js" as="script"><link rel="prefetch" href="/assets/js/10.b352966c.js"><link rel="prefetch" href="/assets/js/11.feb5da44.js"><link rel="prefetch" href="/assets/js/12.3fa43037.js"><link rel="prefetch" href="/assets/js/13.595cc734.js"><link rel="prefetch" href="/assets/js/14.2d41f284.js"><link rel="prefetch" href="/assets/js/15.52bcb3dd.js"><link rel="prefetch" href="/assets/js/16.78033b18.js"><link rel="prefetch" href="/assets/js/17.0c06f997.js"><link rel="prefetch" href="/assets/js/18.436bcee8.js"><link rel="prefetch" href="/assets/js/19.eebf4ac3.js"><link rel="prefetch" href="/assets/js/2.94dd4d80.js"><link rel="prefetch" href="/assets/js/21.f776c0a3.js"><link rel="prefetch" href="/assets/js/22.3b6b1217.js"><link rel="prefetch" href="/assets/js/23.34c4a9b0.js"><link rel="prefetch" href="/assets/js/24.914f58e2.js"><link rel="prefetch" href="/assets/js/25.548f6447.js"><link rel="prefetch" href="/assets/js/26.bbc5bc18.js"><link rel="prefetch" href="/assets/js/27.5243eed3.js"><link rel="prefetch" href="/assets/js/28.aa4f0292.js"><link rel="prefetch" href="/assets/js/29.b940a71a.js"><link rel="prefetch" href="/assets/js/30.09a56e16.js"><link rel="prefetch" href="/assets/js/31.3df19a87.js"><link rel="prefetch" href="/assets/js/32.8c8eda23.js"><link rel="prefetch" href="/assets/js/33.3be9b956.js"><link rel="prefetch" href="/assets/js/34.4b38beab.js"><link rel="prefetch" href="/assets/js/36.084dbe5e.js"><link rel="prefetch" href="/assets/js/37.dbae05b4.js"><link rel="prefetch" href="/assets/js/38.c93463f8.js"><link rel="prefetch" href="/assets/js/39.821060a4.js"><link rel="prefetch" href="/assets/js/40.227e9c54.js"><link rel="prefetch" href="/assets/js/41.df614e02.js"><link rel="prefetch" href="/assets/js/42.259ff5d0.js"><link rel="prefetch" href="/assets/js/43.e777c447.js"><link rel="prefetch" href="/assets/js/44.fa052451.js"><link rel="prefetch" href="/assets/js/45.ab538b9d.js"><link rel="prefetch" href="/assets/js/46.25af2c25.js"><link rel="prefetch" href="/assets/js/47.0ab40e86.js"><link rel="prefetch" href="/assets/js/48.3e23f2ba.js"><link rel="prefetch" href="/assets/js/49.61dd6732.js"><link rel="prefetch" href="/assets/js/5.d7a48aed.js"><link rel="prefetch" href="/assets/js/50.e943b806.js"><link rel="prefetch" href="/assets/js/51.0a118471.js"><link rel="prefetch" href="/assets/js/52.00615690.js"><link rel="prefetch" href="/assets/js/53.45256042.js"><link rel="prefetch" href="/assets/js/54.79e38076.js"><link rel="prefetch" href="/assets/js/55.805e7e39.js"><link rel="prefetch" href="/assets/js/56.ef8ec0bb.js"><link rel="prefetch" href="/assets/js/57.30fd8243.js"><link rel="prefetch" href="/assets/js/58.ba3f7c6f.js"><link rel="prefetch" href="/assets/js/59.92b1ab22.js"><link rel="prefetch" href="/assets/js/6.b45b8355.js"><link rel="prefetch" href="/assets/js/60.8fbb53e8.js"><link rel="prefetch" href="/assets/js/61.2e4aa4c4.js"><link rel="prefetch" href="/assets/js/62.bd5d1044.js"><link rel="prefetch" href="/assets/js/7.08c33c3f.js"><link rel="prefetch" href="/assets/js/8.8665d6ca.js"><link rel="prefetch" href="/assets/js/9.d8a8e288.js">
    <link rel="stylesheet" href="/assets/css/0.styles.599e030f.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container" data-v-19557b78><div data-v-19557b78><div id="loader-wrapper" class="loading-wrapper" data-v-d48f4d20 data-v-19557b78 data-v-19557b78><div class="loader-main" data-v-d48f4d20><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div><div data-v-d48f4d20></div></div> <!----> <!----></div> <div class="password-shadow password-wrapper-out" style="display:none;" data-v-64685f0e data-v-19557b78 data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>å¿ƒæ™´æ— äº‘</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>å°æ–‡</span>
          Â Â 
          <!---->
          2020
        </a></span></div></div> <div class="hide" data-v-19557b78><header class="navbar" data-v-19557b78><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/logo.jpg" alt="å¿ƒæ™´æ— äº‘" class="logo"> <span class="site-name">å¿ƒæ™´æ— äº‘</span></a> <div class="links"><div class="color-picker"><a class="color-button"><i class="iconfont reco-color"></i></a> <div class="color-picker-menu" style="display:none;"><div class="mode-options"><h4 class="title">Choose mode</h4> <ul class="color-mode-options"><li class="dark">dark</li><li class="auto active">auto</li><li class="light">light</li></ul></div></div></div> <div class="search-box"><i class="iconfont reco-search"></i> <input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´çº¿
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      ç±»åˆ«
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/git/" class="nav-link"><i class="iconfont undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/categories/HTML/" class="nav-link"><i class="iconfont undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/categories/js/" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/categories/node/" class="nav-link"><i class="iconfont undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/categories/vueæ¡†æ¶/" class="nav-link"><i class="iconfont undefined"></i>
  vueæ¡†æ¶
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpackæ‰“åŒ…/" class="nav-link"><i class="iconfont undefined"></i>
  webpackæ‰“åŒ…
</a></li><li class="dropdown-item"><!----> <a href="/categories/è·¨åŸŸ/" class="nav-link"><i class="iconfont undefined"></i>
  è·¨åŸŸ
</a></li><li class="dropdown-item"><!----> <a href="/categories/é¡¹ç›®/" class="nav-link"><i class="iconfont undefined"></i>
  é¡¹ç›®
</a></li><li class="dropdown-item"><!----> <a href="/categories/æœåŠ¡å™¨/" class="nav-link"><i class="iconfont undefined"></i>
  æœåŠ¡å™¨
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/rippleUi/rippleUI.html" class="nav-link"><i class="iconfont undefined"></i>
  UI
</a></div><div class="nav-item"><a href="http://8.129.170.77" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  é¡¹ç›®
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      è”ç³»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/RippleHuang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/ripplehuang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  ç äº‘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/RippleHuang/ripple-blog" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask" data-v-19557b78></div> <aside class="sidebar" data-v-19557b78><div class="personal-info-wrapper" data-v-b038cec6><img src="/assets/img/logo.jpg" alt="author-avatar" class="personal-img" data-v-b038cec6> <h3 class="name" data-v-b038cec6>
    å°æ–‡
  </h3> <div class="num" data-v-b038cec6><div data-v-b038cec6><h3 data-v-b038cec6>38</h3> <h6 data-v-b038cec6>æ–‡ç« </h6></div> <div data-v-b038cec6><h3 data-v-b038cec6>24</h3> <h6 data-v-b038cec6>æ ‡ç­¾</h6></div></div> <hr data-v-b038cec6></div> <nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link"><i class="iconfont reco-home"></i>
  é¦–é¡µ
</a></div><div class="nav-item"><a href="/timeline/" class="nav-link"><i class="iconfont reco-date"></i>
  æ—¶é—´çº¿
</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-category"></i>
      ç±»åˆ«
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/categories/css/" class="nav-link"><i class="iconfont undefined"></i>
  css
</a></li><li class="dropdown-item"><!----> <a href="/categories/git/" class="nav-link"><i class="iconfont undefined"></i>
  git
</a></li><li class="dropdown-item"><!----> <a href="/categories/HTML/" class="nav-link"><i class="iconfont undefined"></i>
  HTML
</a></li><li class="dropdown-item"><!----> <a href="/categories/js/" class="nav-link"><i class="iconfont undefined"></i>
  js
</a></li><li class="dropdown-item"><!----> <a href="/categories/node/" class="nav-link"><i class="iconfont undefined"></i>
  node
</a></li><li class="dropdown-item"><!----> <a href="/categories/vueæ¡†æ¶/" class="nav-link"><i class="iconfont undefined"></i>
  vueæ¡†æ¶
</a></li><li class="dropdown-item"><!----> <a href="/categories/webpackæ‰“åŒ…/" class="nav-link"><i class="iconfont undefined"></i>
  webpackæ‰“åŒ…
</a></li><li class="dropdown-item"><!----> <a href="/categories/è·¨åŸŸ/" class="nav-link"><i class="iconfont undefined"></i>
  è·¨åŸŸ
</a></li><li class="dropdown-item"><!----> <a href="/categories/é¡¹ç›®/" class="nav-link"><i class="iconfont undefined"></i>
  é¡¹ç›®
</a></li><li class="dropdown-item"><!----> <a href="/categories/æœåŠ¡å™¨/" class="nav-link"><i class="iconfont undefined"></i>
  æœåŠ¡å™¨
</a></li></ul></div></div><div class="nav-item"><a href="/tag/" class="nav-link"><i class="iconfont reco-tag"></i>
  æ ‡ç­¾
</a></div><div class="nav-item"><a href="/rippleUi/rippleUI.html" class="nav-link"><i class="iconfont undefined"></i>
  UI
</a></div><div class="nav-item"><a href="http://8.129.170.77" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont undefined"></i>
  é¡¹ç›®
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title"><i class="iconfont reco-account"></i>
      è”ç³»
    </span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/RippleHuang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-github"></i>
  github
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/ripplehuang" target="_blank" rel="noopener noreferrer" class="nav-link external"><i class="iconfont reco-mayun"></i>
  ç äº‘
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/RippleHuang/ripple-blog" target="_blank" rel="noopener noreferrer" class="repo-link"><i class="iconfont reco-github"></i>
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JSè®¾è®¡æ¨¡å¼</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#äºŒã€ç­–ç•¥æ¨¡å¼" class="sidebar-link">äºŒã€ç­–ç•¥æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#ä¸‰ã€ä»£ç†æ¨¡å¼" class="sidebar-link">ä¸‰ã€ä»£ç†æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#å››ã€è¿­ä»£å™¨æ¨¡å¼" class="sidebar-link">å››ã€è¿­ä»£å™¨æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#äº”ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼" class="sidebar-link">äº”ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#å…­ã€å‘½ä»¤æ¨¡å¼" class="sidebar-link">å…­ã€å‘½ä»¤æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#ä¸ƒã€ç»„åˆæ¨¡å¼" class="sidebar-link">ä¸ƒã€ç»„åˆæ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#å…«ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼" class="sidebar-link">å…«ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#ä¹ã€äº«å…ƒæ¨¡å¼" class="sidebar-link">ä¹ã€äº«å…ƒæ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#åã€èŒè´£é“¾æ¨¡å¼" class="sidebar-link">åã€èŒè´£é“¾æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#åä¸€ã€ä¸­ä»‹è€…æ¨¡å¼" class="sidebar-link">åä¸€ã€ä¸­ä»‹è€…æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#åäºŒã€è£…é¥°è€…æ¨¡å¼" class="sidebar-link">åäºŒã€è£…é¥°è€…æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#åä¸‰ã€çŠ¶æ€æ¨¡å¼" class="sidebar-link">åä¸‰ã€çŠ¶æ€æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#åå››ã€é€‚é…å™¨æ¨¡å¼" class="sidebar-link">åå››ã€é€‚é…å™¨æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html#åäº”ã€å¤–è§‚æ¨¡å¼" class="sidebar-link">åäº”ã€å¤–è§‚æ¨¡å¼</a><ul class="sidebar-sub-headers"></ul></li></ul></section></li></ul> </aside> <div class="password-shadow password-wrapper-in" style="display:none;" data-v-64685f0e data-v-19557b78><h3 class="title" style="display:none;" data-v-64685f0e data-v-64685f0e>JSè®¾è®¡æ¨¡å¼</h3> <!----> <label id="box" class="inputBox" style="display:none;" data-v-64685f0e data-v-64685f0e><input type="password" value="" data-v-64685f0e> <span data-v-64685f0e>Konck! Knock!</span> <button data-v-64685f0e>OK</button></label> <div class="footer" style="display:none;" data-v-64685f0e data-v-64685f0e><span data-v-64685f0e><i class="iconfont reco-theme" data-v-64685f0e></i> <a target="blank" href="https://vuepress-theme-reco.recoluan.com" data-v-64685f0e>vuePress-theme-reco</a></span> <span data-v-64685f0e><i class="iconfont reco-copyright" data-v-64685f0e></i> <a data-v-64685f0e><span data-v-64685f0e>å°æ–‡</span>
          Â Â 
          <!---->
          2020
        </a></span></div></div> <div data-v-19557b78><main class="page"><div class="page-title" style="display:none;"><h1>JSè®¾è®¡æ¨¡å¼</h1> <hr> <div data-v-484a899e><i class="iconfont reco-account" data-v-484a899e><span data-v-484a899e>å°æ–‡</span></i> <i class="iconfont reco-date" data-v-484a899e><span data-v-484a899e>2020-07-23</span></i> <i class="iconfont reco-eye" data-v-484a899e><span id="/notes/JsNotes/%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F.html" data-flag-title="Your Article Title" class="leancloud-visitors" data-v-484a899e><a class="leancloud-visitors-count" style="font-size:.9rem;font-weight:normal;color:#999;"></a></span></i> <i class="iconfont reco-tag tags" data-v-484a899e><span class="tag-item" data-v-484a899e>
      js
    </span></i></div></div> <div class="theme-reco-content content__default" style="display:none;"><div class="custom-block tip"><p>JSè®¾è®¡æ¨¡å¼</p></div> <h1 id="ä¸€ã€å•ä¾‹æ¨¡å¼"><a href="#ä¸€ã€å•ä¾‹æ¨¡å¼" class="header-anchor">#</a> ä¸€ã€å•ä¾‹æ¨¡å¼</h1> <p><strong>1. å®šä¹‰</strong></p> <p>ä¿è¯ä¸€ä¸ªç±»ä»…æœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›ä¸€ä¸ªè®¿é—®å®ƒçš„å…¨å±€è®¿é—®ç‚¹</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>ç¡®ä¿åªæœ‰ä¸€ä¸ªå®ä¾‹ï¼Œå¹¶æä¾›å…¨å±€è®¿é—®</p> <p><strong>3. å®ç°</strong></p> <p>å‡è®¾è¦è®¾ç½®ä¸€ä¸ªç®¡ç†å‘˜ï¼Œå¤šæ¬¡è°ƒç”¨ä¹Ÿä»…è®¾ç½®ä¸€æ¬¡ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨é—­åŒ…ç¼“å­˜ä¸€ä¸ªå†…éƒ¨å˜é‡æ¥å®ç°è¿™ä¸ªå•ä¾‹</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SetManager</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>manager <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">SetManager</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>manager<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> SingletonSetManager <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> manager <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>manager<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            manager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SetManager</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> manager<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">SingletonSetManager</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>
<span class="token function">SingletonSetManager</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>
<span class="token function">SingletonSetManager</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>è¿™æ˜¯æ¯”è¾ƒç®€å•çš„åšæ³•ï¼Œä½†æ˜¯å‡å¦‚æˆ‘ä»¬è¿˜è¦è®¾ç½®ä¸€ä¸ªHRå‘¢ï¼Ÿå°±å¾—å¤åˆ¶ä¸€éä»£ç äº†</p> <p>æ‰€ä»¥ï¼Œå¯ä»¥æ”¹å†™å•ä¾‹å†…éƒ¨ï¼Œå®ç°åœ°æ›´é€šç”¨ä¸€äº›</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æå–å‡ºé€šç”¨çš„å•ä¾‹</span>
<span class="token keyword">function</span> <span class="token function">getSingleton</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>instance<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            instance <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>å†è¿›è¡Œè°ƒç”¨ï¼Œç»“æœè¿˜æ˜¯ä¸€æ ·</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è·å–å•ä¾‹</span>
<span class="token keyword">var</span> managerSingleton <span class="token operator">=</span> <span class="token function">getSingleton</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> manager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SetManager</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> manager<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">managerSingleton</span><span class="token punctuation">(</span><span class="token string">'a'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>
<span class="token function">managerSingleton</span><span class="token punctuation">(</span><span class="token string">'b'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>
<span class="token function">managerSingleton</span><span class="token punctuation">(</span><span class="token string">'c'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// a</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>è¿™æ—¶ï¼Œæˆ‘ä»¬æ·»åŠ HRæ—¶ï¼Œå°±ä¸éœ€è¦æ›´æ”¹è·å–å•ä¾‹å†…éƒ¨çš„å®ç°äº†ï¼Œä»…éœ€è¦å®ç°æ·»åŠ HRæ‰€éœ€è¦åšçš„ï¼Œå†è°ƒç”¨å³å¯</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">SetHr</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>hr <span class="token operator">=</span> name<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">SetHr</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">getName</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>hr<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> hrSingleton <span class="token operator">=</span> <span class="token function">getSingleton</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> hr <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SetHr</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> hr<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">hrSingleton</span><span class="token punctuation">(</span><span class="token string">'aa'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// aa</span>
<span class="token function">hrSingleton</span><span class="token punctuation">(</span><span class="token string">'bb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// aa</span>
<span class="token function">hrSingleton</span><span class="token punctuation">(</span><span class="token string">'cc'</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// aa</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>æˆ–è€…ï¼Œä»…æƒ³è¦åˆ›å»ºä¸€ä¸ªdivå±‚ï¼Œä¸éœ€è¦å°†å¯¹è±¡å®ä¾‹åŒ–ï¼Œç›´æ¥è°ƒç”¨å‡½æ•°</p> <p>ç»“æœä¸ºé¡µé¢ä¸­ä»…æœ‰ç¬¬ä¸€ä¸ªåˆ›å»ºçš„div</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">createPopup</span><span class="token punctuation">(</span><span class="token parameter">html</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">'div'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> html<span class="token punctuation">;</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>div<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> div<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> popupSingleton <span class="token operator">=</span> <span class="token function">getSingleton</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> div <span class="token operator">=</span> <span class="token function">createPopup</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> div<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token function">popupSingleton</span><span class="token punctuation">(</span><span class="token string">'aaa'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">,</span>
    <span class="token function">popupSingleton</span><span class="token punctuation">(</span><span class="token string">'bbb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML<span class="token punctuation">,</span>
    <span class="token function">popupSingleton</span><span class="token punctuation">(</span><span class="token string">'bbb'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// aaa  aaa  aaa</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <h2 id="äºŒã€ç­–ç•¥æ¨¡å¼"><a href="#äºŒã€ç­–ç•¥æ¨¡å¼" class="header-anchor">#</a> äºŒã€ç­–ç•¥æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>å®šä¹‰ä¸€ç³»åˆ—çš„ç®—æ³•ï¼ŒæŠŠå®ƒä»¬ä¸€ä¸ªä¸ªå°è£…èµ·æ¥ï¼Œå¹¶ä¸”ä½¿å®ƒä»¬å¯ä»¥ç›¸äº’æ›¿æ¢ã€‚</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>å°†ç®—æ³•çš„ä½¿ç”¨å’Œç®—æ³•çš„å®ç°åˆ†ç¦»å¼€æ¥ã€‚</p> <p>ä¸€ä¸ªåŸºäºç­–ç•¥æ¨¡å¼çš„ç¨‹åºè‡³å°‘ç”±ä¸¤éƒ¨åˆ†ç»„æˆï¼š</p> <p>ç¬¬ä¸€ä¸ªéƒ¨åˆ†æ˜¯ä¸€ç»„ç­–ç•¥ç±»ï¼Œç­–ç•¥ç±»å°è£…äº†å…·ä½“çš„ç®—æ³•ï¼Œå¹¶è´Ÿè´£å…·ä½“çš„è®¡ç®—è¿‡ç¨‹ã€‚</p> <p>ç¬¬äºŒä¸ªéƒ¨åˆ†æ˜¯ç¯å¢ƒç±»Contextï¼ŒContextæ¥å—å®¢æˆ·çš„è¯·æ±‚ï¼ŒéšåæŠŠè¯·æ±‚å§”æ‰˜ç»™æŸä¸€ä¸ªç­–ç•¥ç±»ã€‚è¦åšåˆ°è¿™ç‚¹ï¼Œè¯´æ˜Context ä¸­è¦ç»´æŒå¯¹æŸä¸ªç­–ç•¥å¯¹è±¡çš„å¼•ç”¨</p> <p><strong>3. å®ç°</strong></p> <p>ç­–ç•¥æ¨¡å¼å¯ä»¥ç”¨äºç»„åˆä¸€ç³»åˆ—ç®—æ³•ï¼Œä¹Ÿå¯ç”¨äºç»„åˆä¸€ç³»åˆ—ä¸šåŠ¡è§„åˆ™</p> <p>å‡è®¾éœ€è¦é€šè¿‡æˆç»©ç­‰çº§æ¥è®¡ç®—å­¦ç”Ÿçš„æœ€ç»ˆå¾—åˆ†ï¼Œæ¯ä¸ªæˆç»©ç­‰çº§æœ‰å¯¹åº”çš„åŠ æƒå€¼ã€‚æˆ‘ä»¬å¯ä»¥åˆ©ç”¨å¯¹è±¡å­—é¢é‡çš„å½¢å¼ç›´æ¥å®šä¹‰è¿™ä¸ªç»„ç­–ç•¥</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// åŠ æƒæ˜ å°„å…³ç³»</span>
<span class="token keyword">var</span> levelMap <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">S</span><span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>
    <span class="token constant">A</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token constant">B</span><span class="token operator">:</span> <span class="token number">6</span><span class="token punctuation">,</span>
    <span class="token constant">C</span><span class="token operator">:</span> <span class="token number">4</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç»„ç­–ç•¥</span>
<span class="token keyword">var</span> scoreLevel <span class="token operator">=</span> <span class="token punctuation">{</span>
    basicScore<span class="token operator">:</span> <span class="token number">80</span><span class="token punctuation">,</span>

    <span class="token function-variable function">S</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>basicScore <span class="token operator">+</span> levelMap<span class="token punctuation">[</span><span class="token string">'S'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">A</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>basicScore <span class="token operator">+</span> levelMap<span class="token punctuation">[</span><span class="token string">'A'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">B</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>basicScore <span class="token operator">+</span> levelMap<span class="token punctuation">[</span><span class="token string">'B'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">C</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>basicScore <span class="token operator">+</span> levelMap<span class="token punctuation">[</span><span class="token string">'C'</span><span class="token punctuation">]</span><span class="token punctuation">;</span> 
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// è°ƒç”¨</span>
<span class="token keyword">function</span> <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token parameter">level</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> scoreLevel<span class="token punctuation">[</span>level<span class="token punctuation">]</span> <span class="token operator">?</span> scoreLevel<span class="token punctuation">[</span>level<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token string">'S'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">getScore</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 90 88 86 84 0</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>åœ¨ç»„åˆä¸šåŠ¡è§„åˆ™æ–¹é¢ï¼Œæ¯”è¾ƒç»å…¸çš„æ˜¯è¡¨å•çš„éªŒè¯æ–¹æ³•ã€‚è¿™é‡Œåˆ—å‡ºæ¯”è¾ƒå…³é”®çš„éƒ¨åˆ†</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// é”™è¯¯æç¤º</span>
<span class="token keyword">var</span> errorMsgs <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token keyword">default</span><span class="token operator">:</span> <span class="token string">'è¾“å…¥æ•°æ®æ ¼å¼ä¸æ­£ç¡®'</span><span class="token punctuation">,</span>
    minLength<span class="token operator">:</span> <span class="token string">'è¾“å…¥æ•°æ®é•¿åº¦ä¸è¶³'</span><span class="token punctuation">,</span>
    isNumber<span class="token operator">:</span> <span class="token string">'è¯·è¾“å…¥æ•°å­—'</span><span class="token punctuation">,</span>
    required<span class="token operator">:</span> <span class="token string">'å†…å®¹ä¸ä¸ºç©º'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// è§„åˆ™é›†</span>
<span class="token keyword">var</span> rules <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">minLength</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> length<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> errorMsg <span class="token operator">||</span> errorMsgs<span class="token punctuation">[</span><span class="token string">'minLength'</span><span class="token punctuation">]</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">isNumber</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token regex">/\d+/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> errorMsg <span class="token operator">||</span> errorMsgs<span class="token punctuation">[</span><span class="token string">'isNumber'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">required</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token string">''</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> errorMsg <span class="token operator">||</span> errorMsgs<span class="token punctuation">[</span><span class="token string">'required'</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æ ¡éªŒå™¨</span>
<span class="token keyword">function</span> <span class="token function">Validator</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>items <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Validator</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> Validator<span class="token punctuation">,</span>
    
    <span class="token comment">// æ·»åŠ æ ¡éªŒè§„åˆ™</span>
    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">value<span class="token punctuation">,</span> rule<span class="token punctuation">,</span> errorMsg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> arg <span class="token operator">=</span> <span class="token punctuation">[</span>value<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>rule<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'minLength'</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> temp <span class="token operator">=</span> rule<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">':'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            arg<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>temp<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            rule <span class="token operator">=</span> temp<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        arg<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>errorMsg<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token comment">// è¿›è¡Œæ ¡éªŒ</span>
            <span class="token keyword">return</span> rules<span class="token punctuation">[</span>rule<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// å¼€å§‹æ ¡éªŒ</span>
    <span class="token function-variable function">start</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            
            <span class="token keyword">if</span> <span class="token punctuation">(</span>ret<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// return ret;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æµ‹è¯•æ•°æ®</span>
<span class="token keyword">function</span> <span class="token function">testTel</span><span class="token punctuation">(</span><span class="token parameter">val</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> validate <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Validator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

validate<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">testTel</span><span class="token punctuation">(</span><span class="token string">'ccc'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'isNumber'</span><span class="token punctuation">,</span> <span class="token string">'åªèƒ½ä¸ºæ•°å­—'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// åªèƒ½ä¸ºæ•°å­—</span>
validate<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">testTel</span><span class="token punctuation">(</span><span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'required'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å†…å®¹ä¸ä¸ºç©º</span>
validate<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">testTel</span><span class="token punctuation">(</span><span class="token string">'123'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'minLength:5'</span><span class="token punctuation">,</span> <span class="token string">'æœ€å°‘5ä½'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æœ€å°‘5ä½</span>
validate<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token function">testTel</span><span class="token punctuation">(</span><span class="token string">'12345'</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">'minLength:5'</span><span class="token punctuation">,</span> <span class="token string">'æœ€å°‘5ä½'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> ret <span class="token operator">=</span> validate<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p><strong>4. ä¼˜ç¼ºç‚¹</strong></p> <p><strong>ä¼˜ç‚¹</strong></p> <p>å¯ä»¥æœ‰æ•ˆåœ°é¿å…å¤šé‡æ¡ä»¶è¯­å¥ï¼Œå°†ä¸€ç³»åˆ—æ–¹æ³•å°è£…èµ·æ¥ä¹Ÿæ›´ç›´è§‚ï¼Œåˆ©äºç»´æŠ¤</p> <p><strong>ç¼ºç‚¹</strong></p> <p>å¾€å¾€ç­–ç•¥é›†ä¼šæ¯”è¾ƒå¤šï¼Œæˆ‘ä»¬éœ€è¦äº‹å…ˆå°±äº†è§£å®šä¹‰å¥½æ‰€æœ‰çš„æƒ…å†µ</p> <h2 id="ä¸‰ã€ä»£ç†æ¨¡å¼"><a href="#ä¸‰ã€ä»£ç†æ¨¡å¼" class="header-anchor">#</a> ä¸‰ã€ä»£ç†æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>ä¸ºä¸€ä¸ªå¯¹è±¡æä¾›ä¸€ä¸ªä»£ç”¨å“æˆ–å ä½ç¬¦ï¼Œä»¥ä¾¿æ§åˆ¶å¯¹å®ƒçš„è®¿é—®</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>å½“å®¢æˆ·ä¸æ–¹ä¾¿ç›´æ¥è®¿é—®ä¸€ä¸ª å¯¹è±¡æˆ–è€…ä¸æ»¡è¶³éœ€è¦çš„æ—¶å€™ï¼Œæä¾›ä¸€ä¸ªæ›¿èº«å¯¹è±¡ æ¥æ§åˆ¶å¯¹è¿™ä¸ªå¯¹è±¡çš„è®¿é—®ï¼Œå®¢æˆ·å®é™…ä¸Šè®¿é—®çš„æ˜¯ æ›¿èº«å¯¹è±¡ã€‚</p> <p>æ›¿èº«å¯¹è±¡å¯¹è¯·æ±‚åšå‡ºä¸€äº›å¤„ç†ä¹‹åï¼Œ å†æŠŠè¯·æ±‚è½¬äº¤ç»™æœ¬ä½“å¯¹è±¡</p> <p>ä»£ç†å’Œæœ¬ä½“çš„æ¥å£å…·æœ‰ä¸€è‡´æ€§ï¼Œæœ¬ä½“å®šä¹‰äº†å…³é”®åŠŸèƒ½ï¼Œè€Œä»£ç†æ˜¯æä¾›æˆ–æ‹’ç»å¯¹å®ƒçš„è®¿é—®ï¼Œæˆ–è€…åœ¨è®¿é—®æœ¬ä½“ä¹‹å‰åšä¸€ äº›é¢å¤–çš„äº‹æƒ…</p> <p><strong>3. å®ç°</strong></p> <p>ä»£ç†æ¨¡å¼ä¸»è¦æœ‰ä¸‰ç§ï¼šä¿æŠ¤ä»£ç†ã€è™šæ‹Ÿä»£ç†ã€ç¼“å­˜ä»£ç†</p> <p>ä¿æŠ¤ä»£ç†ä¸»è¦å®ç°äº†è®¿é—®ä¸»ä½“çš„é™åˆ¶è¡Œä¸ºï¼Œä»¥è¿‡æ»¤å­—ç¬¦ä½œä¸ºç®€å•çš„ä¾‹å­</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¸»ä½“ï¼Œå‘é€æ¶ˆæ¯</span>
<span class="token keyword">function</span> <span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä»£ç†ï¼Œå¯¹æ¶ˆæ¯è¿›è¡Œè¿‡æ»¤</span>
<span class="token keyword">function</span> <span class="token function">proxySendMsg</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ— æ¶ˆæ¯åˆ™ç›´æ¥è¿”å›</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> msg <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'deny'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    <span class="token comment">// æœ‰æ¶ˆæ¯åˆ™è¿›è¡Œè¿‡æ»¤</span>
    msg <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token string">''</span> <span class="token operator">+</span> msg<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/æ³¥\s*ç…¤/g</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">sendMsg</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token function">sendMsg</span><span class="token punctuation">(</span><span class="token string">'æ³¥ç…¤å‘€æ³¥ ç…¤å‘€'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ³¥ç…¤å‘€æ³¥ ç…¤å‘€</span>
<span class="token function">proxySendMsg</span><span class="token punctuation">(</span><span class="token string">'æ³¥ç…¤å‘€æ³¥ ç…¤'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å‘€</span>
<span class="token function">proxySendMsg</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// deny</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>å®ƒçš„æ„å›¾å¾ˆæ˜æ˜¾ï¼Œåœ¨è®¿é—®ä¸»ä½“ä¹‹å‰è¿›è¡Œæ§åˆ¶ï¼Œæ²¡æœ‰æ¶ˆæ¯çš„æ—¶å€™ç›´æ¥åœ¨ä»£ç†ä¸­è¿”å›äº†ï¼Œæ‹’ç»è®¿é—®ä¸»ä½“ï¼Œè¿™æ•°æ®ä¿æŠ¤ä»£ç†çš„å½¢å¼</p> <p>æœ‰æ¶ˆæ¯çš„æ—¶å€™å¯¹æ•æ„Ÿå­—ç¬¦è¿›è¡Œäº†å¤„ç†ï¼Œè¿™å±äºè™šæ‹Ÿä»£ç†çš„æ¨¡å¼</p> <p>è™šæ‹Ÿä»£ç†åœ¨æ§åˆ¶å¯¹ä¸»ä½“çš„è®¿é—®æ—¶ï¼ŒåŠ å…¥äº†ä¸€äº›é¢å¤–çš„æ“ä½œ</p> <p>åœ¨æ»šåŠ¨äº‹ä»¶è§¦å‘çš„æ—¶å€™ï¼Œä¹Ÿè®¸ä¸éœ€è¦é¢‘ç¹è§¦å‘ï¼Œæˆ‘ä»¬å¯ä»¥å¼•å…¥å‡½æ•°èŠ‚æµï¼Œè¿™æ˜¯ä¸€ç§è™šæ‹Ÿä»£ç†çš„å®ç°</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å‡½æ•°é˜²æŠ–ï¼Œé¢‘ç¹æ“ä½œä¸­ä¸å¤„ç†ï¼Œç›´åˆ°æ“ä½œå®Œæˆä¹‹åï¼ˆå†è¿‡ delay çš„æ—¶é—´ï¼‰æ‰ä¸€æ¬¡æ€§å¤„ç†</span>
<span class="token keyword">function</span> <span class="token function">debounce</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> delay</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    delay <span class="token operator">=</span> delay <span class="token operator">||</span> <span class="token number">200</span><span class="token punctuation">;</span>
    
    <span class="token keyword">var</span> timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> arg <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
          
        <span class="token comment">// æ¯æ¬¡æ“ä½œæ—¶ï¼Œæ¸…é™¤ä¸Šæ¬¡çš„å®šæ—¶å™¨</span>
        <span class="token function">clearTimeout</span><span class="token punctuation">(</span>timer<span class="token punctuation">)</span><span class="token punctuation">;</span>
        timer <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
        
        <span class="token comment">// å®šä¹‰æ–°çš„å®šæ—¶å™¨ï¼Œä¸€æ®µæ—¶é—´åè¿›è¡Œæ“ä½œ</span>
        timer <span class="token operator">=</span> <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span> delay<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> count <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸»ä½“</span>
<span class="token keyword">function</span> <span class="token function">scrollHandle</span><span class="token punctuation">(</span><span class="token parameter">e</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>type<span class="token punctuation">,</span> <span class="token operator">++</span>count<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// scroll</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä»£ç†</span>
<span class="token keyword">var</span> proxyScrollHandle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token function">debounce</span><span class="token punctuation">(</span>scrollHandle<span class="token punctuation">,</span> <span class="token number">500</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

window<span class="token punctuation">.</span>onscroll <span class="token operator">=</span> proxyScrollHandle<span class="token punctuation">;</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>ç¼“å­˜ä»£ç†å¯ä»¥ä¸ºä¸€äº›å¼€é”€å¤§çš„è¿ç®—ç»“æœæä¾›æš‚æ—¶çš„ç¼“å­˜ï¼Œæå‡æ•ˆç‡</p> <p>æ¥ä¸ªæ —å­ï¼Œç¼“å­˜åŠ æ³•æ“ä½œ</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¸»ä½“</span>
<span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> arg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> arg<span class="token punctuation">.</span><span class="token function">reduce</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">+</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä»£ç†</span>
<span class="token keyword">var</span> proxyAdd <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> cache <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> arg <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">','</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// å¦‚æœæœ‰ï¼Œåˆ™ç›´æ¥ä»ç¼“å­˜è¿”å›</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>cache<span class="token punctuation">[</span>arg<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> cache<span class="token punctuation">[</span>arg<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">add</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">add</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

    <span class="token function">proxyAdd</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token function">proxyAdd</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span> <span class="token number">20</span><span class="token punctuation">,</span> <span class="token number">30</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 10 10 100 100</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <h2 id="å››ã€è¿­ä»£å™¨æ¨¡å¼"><a href="#å››ã€è¿­ä»£å™¨æ¨¡å¼" class="header-anchor">#</a> å››ã€è¿­ä»£å™¨æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>è¿­ä»£å™¨æ¨¡å¼æ˜¯æŒ‡æä¾›ä¸€ç§æ–¹æ³•é¡ºåºè®¿é—®ä¸€ä¸ªèšåˆå¯¹è±¡ä¸­çš„å„ä¸ªå…ƒç´ ï¼Œè€Œåˆä¸éœ€è¦æš´éœ²è¯¥å¯¹è±¡çš„å†…éƒ¨è¡¨ç¤ºã€‚</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>åœ¨ä½¿ç”¨è¿­ä»£å™¨æ¨¡å¼ä¹‹åï¼Œå³ä½¿ä¸å…³å¿ƒå¯¹è±¡çš„å†…éƒ¨æ„é€ ï¼Œä¹Ÿå¯ä»¥æŒ‰é¡ºåºè®¿é—®å…¶ä¸­çš„æ¯ä¸ªå…ƒç´ </p> <p><strong>3. å®ç°</strong></p> <p>JSä¸­æ•°ç»„çš„map forEach å·²ç»å†…ç½®äº†è¿­ä»£å™¨</p> <div class="language- extra-class"><pre class="language-text"><code>[1, 2, 3].forEach(function(item, index, arr) {
    console.log(item, index, arr);
});
</code></pre></div><p>ä¸è¿‡å¯¹äºå¯¹è±¡çš„éå†ï¼Œå¾€å¾€ä¸èƒ½ä¸æ•°ç»„ä¸€æ ·ä½¿ç”¨åŒä¸€çš„éå†ä»£ç </p> <p>æˆ‘ä»¬å¯ä»¥å°è£…ä¸€ä¸‹</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">each</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> value<span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> obj<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            value <span class="token operator">=</span> <span class="token function">cb</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            value <span class="token operator">=</span> <span class="token function">cb</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">each</span><span class="token punctuation">(</span><span class="token punctuation">{</span>a<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> b<span class="token operator">:</span> <span class="token number">2</span><span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">index<span class="token punctuation">,</span> value</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>index<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// 0 1</span>
<span class="token comment">// 1 2</span>
<span class="token comment">// 2 3</span>

<span class="token comment">// a 1</span>
<span class="token comment">// b 2</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>å†æ¥çœ‹ä¸€ä¸ªä¾‹å­ï¼Œå¼ºè¡Œåœ°ä½¿ç”¨è¿­ä»£å™¨ï¼Œæ¥äº†è§£ä¸€ä¸‹è¿­ä»£å™¨ä¹Ÿå¯ä»¥æ›¿æ¢é¢‘ç¹çš„æ¡ä»¶è¯­å¥</p> <p>è™½ç„¶ä¾‹å­ä¸å¤ªå¥½ï¼Œä½†åœ¨å…¶ä»–è´Ÿè´£çš„åˆ†æ”¯åˆ¤æ–­æƒ…å†µä¸‹ï¼Œä¹Ÿæ˜¯å€¼å¾—è€ƒè™‘çš„</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">getManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&lt;=</span> <span class="token number">2000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&gt;=</span> <span class="token number">2100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token function">getManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// B</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>å°†æ¯ä¸ªæ¡ä»¶è¯­å¥æ‹†åˆ†å‡ºé€»è¾‘å‡½æ•°ï¼Œæ”¾å…¥è¿­ä»£å™¨ä¸­è¿­ä»£</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">year2000</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&lt;=</span> <span class="token number">2000</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">year2100</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&gt;=</span> <span class="token number">2100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">year</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> year <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getFullYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span>year <span class="token operator">&gt;</span> <span class="token number">2000</span> <span class="token operator">&amp;&amp;</span> year <span class="token operator">&lt;</span> <span class="token number">2100</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">iteratorYear</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> ret <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> ret<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> manager <span class="token operator">=</span> <span class="token function">iteratorYear</span><span class="token punctuation">(</span>year2000<span class="token punctuation">,</span> year2100<span class="token punctuation">,</span> year<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// B</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <h2 id="äº”ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼"><a href="#äº”ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼" class="header-anchor">#</a> äº”ã€å‘å¸ƒ-è®¢é˜…æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>ä¹Ÿç§°ä½œè§‚å¯Ÿè€…æ¨¡å¼ï¼Œå®šä¹‰äº†å¯¹è±¡é—´çš„ä¸€ç§ä¸€å¯¹å¤šçš„ä¾èµ–å…³ç³»ï¼Œå½“ä¸€ä¸ªå¯¹è±¡çš„çŠ¶æ€å‘ ç”Ÿæ”¹å˜æ—¶ï¼Œæ‰€æœ‰ä¾èµ–äºå®ƒçš„å¯¹è±¡éƒ½å°†å¾—åˆ°é€šçŸ¥</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>å–ä»£å¯¹è±¡ä¹‹é—´ç¡¬ç¼–ç çš„é€šçŸ¥æœºåˆ¶ï¼Œä¸€ä¸ªå¯¹è±¡ä¸ç”¨å†æ˜¾å¼åœ°è°ƒç”¨å¦å¤–ä¸€ä¸ªå¯¹è±¡çš„æŸä¸ªæ¥å£ã€‚</p> <p>ä¸ä¼ ç»Ÿçš„å‘å¸ƒ-è®¢é˜…æ¨¡å¼å®ç°æ–¹å¼ï¼ˆå°†è®¢é˜…è€…è‡ªèº«å½“æˆå¼•ç”¨ä¼ å…¥å‘å¸ƒè€…ï¼‰ä¸åŒï¼Œåœ¨JSä¸­é€šå¸¸ä½¿ç”¨æ³¨å†Œå›è°ƒå‡½æ•°çš„å½¢å¼æ¥è®¢é˜…</p> <p><strong>3. å®ç°</strong></p> <p>JSä¸­çš„äº‹ä»¶å°±æ˜¯ç»å…¸çš„å‘å¸ƒ-è®¢é˜…æ¨¡å¼çš„å®ç°</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è®¢é˜…</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click1'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span><span class="token string">'click'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'click2'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å‘å¸ƒ</span>
document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// click1  click2</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>è‡ªå·±å®ç°ä¸€ä¸‹</p> <p>å°Aåœ¨å…¬å¸Cå®Œæˆäº†ç¬”è¯•åŠé¢è¯•ï¼Œå°Bä¹Ÿåœ¨å…¬å¸Cå®Œæˆäº†ç¬”è¯•ã€‚ä»–ä»¬ç„¦æ€¥åœ°ç­‰å¾…ç»“æœï¼Œæ¯éš”åŠå¤©å°±ç”µè¯è¯¢é—®å…¬å¸Cï¼Œå¯¼è‡´å…¬å¸Cå¾ˆä¸è€çƒ¦ã€‚</p> <p>ä¸€ç§è§£å†³åŠæ³•æ˜¯ ABç›´æ¥æŠŠè”ç³»æ–¹å¼ç•™ç»™Cï¼Œæœ‰ç»“æœçš„è¯Cè‡ªç„¶ä¼šé€šçŸ¥AB</p> <p>è¿™é‡Œçš„â€œè¯¢é—®â€å±äºæ˜¾ç¤ºè°ƒç”¨ï¼Œâ€œç•™ç»™â€å±äºè®¢é˜…ï¼Œâ€œé€šçŸ¥â€å±äºå‘å¸ƒ</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è§‚å¯Ÿè€…</span>
<span class="token keyword">var</span> observer <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// è®¢é˜…é›†åˆ</span>
    subscribes<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token comment">// è®¢é˜…</span>
    <span class="token function-variable function">subscribe</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>subscribes<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>subscribes<span class="token punctuation">[</span>type<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// æ”¶é›†è®¢é˜…è€…çš„å¤„ç†</span>
        <span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">'function'</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subscribes<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// å‘å¸ƒ  å¯èƒ½ä¼šæºå¸¦ä¸€äº›ä¿¡æ¯å‘å¸ƒå‡ºå»</span>
    <span class="token function-variable function">publish</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">,</span>
            fns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subscribes<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>
        
        <span class="token comment">// ä¸å­˜åœ¨çš„è®¢é˜…ç±»å‹ï¼Œä»¥åŠè®¢é˜…æ—¶æœªä¼ å…¥å¤„ç†å›è°ƒçš„</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fns <span class="token operator">||</span> <span class="token operator">!</span>fns<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// æŒ¨ä¸ªå¤„ç†è°ƒç”¨</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            fns<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// åˆ é™¤è®¢é˜…</span>
    <span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">type<span class="token punctuation">,</span> fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// åˆ é™¤å…¨éƒ¨</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> type <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>subscribes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">var</span> fns <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subscribes<span class="token punctuation">[</span>type<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token comment">// ä¸å­˜åœ¨çš„è®¢é˜…ç±»å‹ï¼Œä»¥åŠè®¢é˜…æ—¶æœªä¼ å…¥å¤„ç†å›è°ƒçš„</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>fns <span class="token operator">||</span> <span class="token operator">!</span>fns<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> fn <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            fns<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// æŒ¨ä¸ªå¤„ç†åˆ é™¤</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> fns<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>fns<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> fn<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                fns<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// è®¢é˜…å²—ä½åˆ—è¡¨</span>
<span class="token keyword">function</span> <span class="token function">jobListForA</span><span class="token punctuation">(</span><span class="token parameter">jobs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> jobs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">jobListForB</span><span class="token punctuation">(</span><span class="token parameter">jobs</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">,</span> jobs<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Aè®¢é˜…äº†ç¬”è¯•æˆç»©</span>
observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'job'</span><span class="token punctuation">,</span> jobListForA<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Bè®¢é˜…äº†ç¬”è¯•æˆç»©</span>
observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'job'</span><span class="token punctuation">,</span> jobListForB<span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// Aè®¢é˜…äº†ç¬”è¯•æˆç»©</span>
observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'examinationA'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Bè®¢é˜…äº†ç¬”è¯•æˆç»©</span>
observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'examinationB'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>score<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Aè®¢é˜…äº†é¢è¯•ç»“æœ</span>
observer<span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token string">'interviewA'</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">result</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

observer<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'examinationA'</span><span class="token punctuation">,</span> <span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 100</span>
observer<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'examinationB'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 80</span>
observer<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'interviewA'</span><span class="token punctuation">,</span> <span class="token string">'å¤‡ç”¨'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¤‡ç”¨</span>

observer<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'job'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'å‰ç«¯'</span><span class="token punctuation">,</span> <span class="token string">'åç«¯'</span><span class="token punctuation">,</span> <span class="token string">'æµ‹è¯•'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºAå’ŒBçš„å²—ä½</span>


<span class="token comment">// Bå–æ¶ˆè®¢é˜…äº†ç¬”è¯•æˆç»©</span>
observer<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'examinationB'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Aéƒ½å–æ¶ˆè®¢é˜…äº†å²—ä½</span>
observer<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token string">'job'</span><span class="token punctuation">,</span> jobListForA<span class="token punctuation">)</span><span class="token punctuation">;</span>

observer<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'examinationB'</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ²¡æœ‰å¯åŒ¹é…çš„è®¢é˜…ï¼Œæ— è¾“å‡º</span>
observer<span class="token punctuation">.</span><span class="token function">publish</span><span class="token punctuation">(</span><span class="token string">'job'</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token string">'å‰ç«¯'</span><span class="token punctuation">,</span> <span class="token string">'åç«¯'</span><span class="token punctuation">,</span> <span class="token string">'æµ‹è¯•'</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è¾“å‡ºBçš„å²—ä½</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p><strong>4. ä¼˜ç¼ºç‚¹</strong></p> <p><strong>ä¼˜ç‚¹</strong></p> <p>ä¸€ä¸ºæ—¶é—´ä¸Šçš„è§£è€¦ï¼ŒäºŒä¸ºå¯¹è±¡ä¹‹é—´çš„è§£è€¦ã€‚å¯ä»¥ç”¨åœ¨å¼‚æ­¥ç¼–ç¨‹ä¸­ä¸MV*æ¡†æ¶ä¸­</p> <p><strong>ç¼ºç‚¹</strong></p> <p>åˆ›å»ºè®¢é˜…è€…æœ¬èº«è¦æ¶ˆè€—ä¸€å®šçš„æ—¶é—´å’Œå†…å­˜ï¼Œè®¢é˜…çš„å¤„ç†å‡½æ•°ä¸ä¸€å®šä¼šè¢«æ‰§è¡Œï¼Œé©»ç•™å†…å­˜æœ‰æ€§èƒ½å¼€é”€</p> <p>å¼±åŒ–äº†å¯¹è±¡ä¹‹é—´çš„è”ç³»ï¼Œå¤æ‚çš„æƒ…å†µä¸‹å¯èƒ½ä¼šå¯¼è‡´ç¨‹åºéš¾ä»¥è·Ÿè¸ªç»´æŠ¤å’Œç†è§£</p> <h2 id="å…­ã€å‘½ä»¤æ¨¡å¼"><a href="#å…­ã€å‘½ä»¤æ¨¡å¼" class="header-anchor">#</a> å…­ã€å‘½ä»¤æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>ç”¨ä¸€ç§æ¾è€¦åˆçš„æ–¹å¼æ¥è®¾è®¡ç¨‹åºï¼Œä½¿å¾—è¯·æ±‚å‘é€è€…å’Œè¯·æ±‚æ¥æ”¶è€…èƒ½å¤Ÿæ¶ˆé™¤å½¼æ­¤ä¹‹é—´çš„è€¦åˆå…³ç³»</p> <p>å‘½ä»¤ï¼ˆcommandï¼‰æŒ‡çš„æ˜¯ä¸€ä¸ªæ‰§è¡ŒæŸäº›ç‰¹å®šäº‹æƒ…çš„æŒ‡ä»¤</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>å‘½ä»¤ä¸­å¸¦æœ‰executeæ‰§è¡Œã€undoæ’¤é”€ã€redoé‡åšç­‰ç›¸å…³å‘½ä»¤æ–¹æ³•ï¼Œå»ºè®®æ˜¾ç¤ºåœ°æŒ‡ç¤ºè¿™äº›æ–¹æ³•å</p> <p><strong>3. å®ç°</strong></p> <p>ç®€å•çš„å‘½ä»¤æ¨¡å¼å®ç°å¯ä»¥ç›´æ¥ä½¿ç”¨å¯¹è±¡å­—é¢é‡çš„å½¢å¼å®šä¹‰ä¸€ä¸ªå‘½ä»¤</p> <div class="language- extra-class"><pre class="language-text"><code>var incrementCommand = {
    execute: function() {
        // something
    }
};
</code></pre></div><p>ä¸è¿‡æ¥ä¸‹æ¥çš„ä¾‹å­æ˜¯ä¸€ä¸ªè‡ªå¢å‘½ä»¤ï¼Œæä¾›æ‰§è¡Œã€æ’¤é”€ã€é‡åšåŠŸèƒ½</p> <p>é‡‡ç”¨å¯¹è±¡åˆ›å»ºå¤„ç†çš„æ–¹å¼ï¼Œå®šä¹‰è¿™ä¸ªè‡ªå¢</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è‡ªå¢</span>
<span class="token keyword">function</span> <span class="token function">IncrementCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// å½“å‰å€¼</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token comment">// å‘½ä»¤æ ˆ</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stack <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token comment">// æ ˆæŒ‡é’ˆä½ç½®</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>stackPosition <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">IncrementCommand</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> IncrementCommand<span class="token punctuation">,</span>

    <span class="token comment">// æ‰§è¡Œ</span>
    <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">_clearRedo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// å®šä¹‰æ‰§è¡Œçš„å¤„ç†</span>
        <span class="token keyword">var</span> <span class="token function-variable function">command</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">+=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// æ‰§è¡Œå¹¶ç¼“å­˜èµ·æ¥</span>
        <span class="token function">command</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span>stackPosition<span class="token operator">++</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function-variable function">canUndo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stackPosition <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token function-variable function">canRedo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stackPosition <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// æ’¤é”€</span>
    <span class="token function-variable function">undo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">canUndo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token keyword">this</span><span class="token punctuation">.</span>stackPosition<span class="token operator">--</span><span class="token punctuation">;</span>

        <span class="token comment">// å‘½ä»¤çš„æ’¤é”€ï¼Œä¸æ‰§è¡Œçš„å¤„ç†ç›¸å</span>
        <span class="token keyword">var</span> <span class="token function-variable function">command</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>val <span class="token operator">-=</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">.</span><span class="token function">bind</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// æ’¤é”€åä¸éœ€è¦ç¼“å­˜</span>
        <span class="token function">command</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// é‡åš</span>
    <span class="token function-variable function">redo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">canRedo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
        <span class="token comment">// æ‰§è¡Œæ ˆé¡¶çš„å‘½ä»¤</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">[</span><span class="token operator">++</span><span class="token keyword">this</span><span class="token punctuation">.</span>stackPosition<span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// åœ¨æ‰§è¡Œæ—¶ï¼Œå·²ç»æ’¤é”€çš„éƒ¨åˆ†ä¸èƒ½å†é‡åš</span>
    <span class="token function-variable function">_clearRedo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>stack <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stack<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>stackPosition <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// è·å–å½“å‰å€¼</span>
    <span class="token function-variable function">getValue</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>å†å®ä¾‹åŒ–è¿›è¡Œæµ‹è¯•ï¼Œæ¨¡æ‹Ÿæ‰§è¡Œã€æ’¤é”€ã€é‡åšçš„æ“ä½œ</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> incrementCommand <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">IncrementCommand</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ¨¡æ‹Ÿäº‹ä»¶è§¦å‘ï¼Œæ‰§è¡Œå‘½ä»¤</span>
<span class="token keyword">var</span> eventTrigger <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token comment">// æŸä¸ªäº‹ä»¶çš„å¤„ç†ä¸­ï¼Œç›´æ¥è°ƒç”¨å‘½ä»¤çš„å¤„ç†æ–¹æ³•</span>
    <span class="token function-variable function">increment</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        incrementCommand<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">incrementUndo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        incrementCommand<span class="token punctuation">.</span><span class="token function">undo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">incrementRedo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        incrementCommand<span class="token punctuation">.</span><span class="token function">redo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


eventTrigger<span class="token punctuation">[</span><span class="token string">'increment'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
eventTrigger<span class="token punctuation">[</span><span class="token string">'increment'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>

eventTrigger<span class="token punctuation">[</span><span class="token string">'incrementUndo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>

eventTrigger<span class="token punctuation">[</span><span class="token string">'increment'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>

eventTrigger<span class="token punctuation">[</span><span class="token string">'incrementUndo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
eventTrigger<span class="token punctuation">[</span><span class="token string">'incrementUndo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 0</span>
eventTrigger<span class="token punctuation">[</span><span class="token string">'incrementUndo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— è¾“å‡º</span>

eventTrigger<span class="token punctuation">[</span><span class="token string">'incrementRedo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 2</span>
eventTrigger<span class="token punctuation">[</span><span class="token string">'incrementRedo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 4</span>
eventTrigger<span class="token punctuation">[</span><span class="token string">'incrementRedo'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— è¾“å‡º</span>

eventTrigger<span class="token punctuation">[</span><span class="token string">'increment'</span><span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 6</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>æ­¤å¤–ï¼Œè¿˜å¯ä»¥å®ç°ç®€å•çš„å®å‘½ä»¤ï¼ˆä¸€ç³»åˆ—å‘½ä»¤çš„é›†åˆï¼‰</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> MacroCommand <span class="token operator">=</span> <span class="token punctuation">{</span>
    commands<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>command<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">command</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>command<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>commands <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>commands<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>commands<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> command<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>commands<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>commands<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>commands<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> showTime <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'time'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> showName <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'name'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> showAge <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token function-variable function">execute</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'age'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

MacroCommand<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>showTime<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>showName<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>showAge<span class="token punctuation">)</span><span class="token punctuation">;</span>

MacroCommand<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>showName<span class="token punctuation">)</span><span class="token punctuation">;</span>

MacroCommand<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// time age</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <h2 id="ä¸ƒã€ç»„åˆæ¨¡å¼"><a href="#ä¸ƒã€ç»„åˆæ¨¡å¼" class="header-anchor">#</a> ä¸ƒã€ç»„åˆæ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>æ˜¯ç”¨å°çš„å­å¯¹è±¡æ¥æ„å»ºæ›´å¤§çš„ å¯¹è±¡ï¼Œè€Œè¿™äº›å°çš„å­å¯¹è±¡æœ¬èº«ä¹Ÿè®¸æ˜¯ç”±æ›´å° çš„â€œå­™å¯¹è±¡â€æ„æˆçš„ã€‚</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>å¯ä»¥ç”¨æ ‘å½¢ç»“æ„æ¥è¡¨ç¤ºè¿™ç§â€œéƒ¨åˆ†- æ•´ä½“â€çš„å±‚æ¬¡ç»“æ„ã€‚</p> <p>è°ƒç”¨ç»„åˆå¯¹è±¡ çš„executeæ–¹æ³•ï¼Œç¨‹åºä¼šé€’å½’è°ƒç”¨ç»„åˆå¯¹è±¡ ä¸‹é¢çš„å¶å¯¹è±¡çš„executeæ–¹æ³•</p> <p><img src="https://images2018.cnblogs.com/blog/688270/201808/688270-20180810130111913-1574024010.png" alt="img"></p> <p>ä½†è¦æ³¨æ„çš„æ˜¯ï¼Œç»„åˆæ¨¡å¼ä¸æ˜¯çˆ¶å­å…³ç³»ï¼Œå®ƒæ˜¯ä¸€ç§HAS-Aï¼ˆèšåˆï¼‰çš„å…³ç³»ï¼Œå°†è¯·æ±‚å§”æ‰˜ç»™ å®ƒæ‰€åŒ…å«çš„æ‰€æœ‰å¶å¯¹è±¡ã€‚åŸºäºè¿™ç§å§”æ‰˜ï¼Œå°±éœ€è¦ä¿è¯ç»„åˆå¯¹è±¡å’Œå¶å¯¹è±¡æ‹¥æœ‰ç›¸åŒçš„ æ¥å£</p> <p>æ­¤å¤–ï¼Œä¹Ÿè¦ä¿è¯ç”¨ä¸€è‡´çš„æ–¹å¼å¯¹å¾… åˆ—è¡¨ä¸­çš„æ¯ä¸ªå¶å¯¹è±¡ï¼Œå³å¶å¯¹è±¡å±äºåŒä¸€ç±»ï¼Œä¸éœ€è¦è¿‡å¤šç‰¹æ®Šçš„é¢å¤–æ“ä½œ</p> <p><strong>3. å®ç°</strong></p> <p>ä½¿ç”¨ç»„åˆæ¨¡å¼æ¥å®ç°æ‰«ææ–‡ä»¶å¤¹ä¸­çš„æ–‡ä»¶</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ–‡ä»¶å¤¹ ç»„åˆå¯¹è±¡</span>
<span class="token keyword">function</span> <span class="token function">Folder</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>files <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Folder</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> Folder<span class="token punctuation">,</span>

    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        file<span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>file<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">scan</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// å§”æ‰˜ç»™å¶å¯¹è±¡å¤„ç†</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">file</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> file <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>files <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">.</span>length<span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> file<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token keyword">this</span><span class="token punctuation">.</span>files<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æ–‡ä»¶ å¶å¯¹è±¡</span>
<span class="token keyword">function</span> <span class="token function">File</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>parent <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">File</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> File<span class="token punctuation">,</span>

    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ–‡ä»¶é‡Œé¢ä¸èƒ½æ·»åŠ æ–‡ä»¶'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token function-variable function">scan</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">var</span> parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parent<span class="token punctuation">;</span>

        <span class="token keyword">while</span> <span class="token punctuation">(</span>parent<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            name<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span>parent<span class="token punctuation">.</span>name<span class="token punctuation">)</span><span class="token punctuation">;</span>
            parent <span class="token operator">=</span> parent<span class="token punctuation">.</span>parent<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>name<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">' / '</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>æ„é€ å¥½ç»„åˆå¯¹è±¡ä¸å¶å¯¹è±¡çš„å…³ç³»åï¼Œå®ä¾‹åŒ–ï¼Œåœ¨ç»„åˆå¯¹è±¡ä¸­æ’å…¥ç»„åˆæˆ–å¶å¯¹è±¡</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> web <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Folder</span><span class="token punctuation">(</span><span class="token string">'Web'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> fe <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Folder</span><span class="token punctuation">(</span><span class="token string">'å‰ç«¯'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> css <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Folder</span><span class="token punctuation">(</span><span class="token string">'CSS'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> js <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Folder</span><span class="token punctuation">(</span><span class="token string">'js'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> rd <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Folder</span><span class="token punctuation">(</span><span class="token string">'åç«¯'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

web<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>fe<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>rd<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> file1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">'HTMLæƒå¨æŒ‡å—.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> file2 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">'CSSæƒå¨æŒ‡å—.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> file3 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">'JavaScriptæƒå¨æŒ‡å—.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> file4 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">'MySQLåŸºç¡€.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> file5 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">'Webå®‰å…¨.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> file6 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">File</span><span class="token punctuation">(</span><span class="token string">'Linuxèœé¸Ÿ.pdf'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

css<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>file2<span class="token punctuation">)</span><span class="token punctuation">;</span>
fe<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>file1<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>file3<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>css<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>js<span class="token punctuation">)</span><span class="token punctuation">;</span>
rd<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>file4<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>file5<span class="token punctuation">)</span><span class="token punctuation">;</span>
web<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>file6<span class="token punctuation">)</span><span class="token punctuation">;</span>

rd<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span>file4<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ‰«æ</span>
web<span class="token punctuation">.</span><span class="token function">scan</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>æ‰«æç»“æœä¸º</p> <p><img src="https://images2018.cnblogs.com/blog/688270/201808/688270-20180810134809099-1727124887.png" alt="img"></p> <p><strong>4. ä¼˜ç¼ºç‚¹</strong></p> <p><strong>ä¼˜ç‚¹</strong></p> <p>å¯ ä»¥æ–¹ä¾¿åœ°æ„é€ ä¸€æ£µæ ‘æ¥è¡¨ç¤ºå¯¹è±¡çš„éƒ¨åˆ†-æ•´ä½“ ç»“æ„ã€‚åœ¨æ ‘çš„æ„é€ æœ€ç»ˆ å®Œæˆä¹‹åï¼Œåªéœ€è¦é€šè¿‡è¯·æ±‚æ ‘çš„æœ€é¡¶å±‚å¯¹ è±¡ï¼Œä¾¿èƒ½å¯¹æ•´æ£µæ ‘åšç»Ÿä¸€ä¸€è‡´çš„æ“ä½œã€‚</p> <p><strong>ç¼ºç‚¹</strong></p> <p>åˆ›å»ºå‡ºæ¥çš„å¯¹è±¡é•¿å¾—éƒ½å·®ä¸å¤šï¼Œå¯èƒ½ä¼šä½¿ä»£ç ä¸å¥½ç†è§£ï¼Œåˆ›å»ºå¤ªå¤šçš„å¯¹è±¡å¯¹æ€§èƒ½ä¹Ÿä¼šæœ‰ä¸€äº›å½±å“</p> <h2 id="å…«ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼"><a href="#å…«ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼" class="header-anchor">#</a> å…«ã€æ¨¡æ¿æ–¹æ³•æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ç”±ä¸¤éƒ¨åˆ†ç»“æ„ç»„æˆï¼Œç¬¬ä¸€éƒ¨åˆ†æ˜¯æŠ½è±¡çˆ¶ç±»ï¼Œç¬¬äºŒéƒ¨åˆ†æ˜¯å…·ä½“çš„å®ç°å­ç±»ã€‚</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>åœ¨æŠ½è±¡çˆ¶ç±»ä¸­å°è£…å­ç±»çš„ç®—æ³•æ¡†æ¶ï¼Œå®ƒçš„ initæ–¹æ³•å¯ä½œä¸ºä¸€ä¸ªç®—æ³•çš„æ¨¡æ¿ï¼ŒæŒ‡å¯¼å­ç±»ä»¥ä½•ç§é¡ºåºå»æ‰§è¡Œå“ªäº›æ–¹æ³•ã€‚</p> <p>ç”±çˆ¶ç±»åˆ†ç¦»å‡ºå…¬å…±éƒ¨åˆ†ï¼Œè¦æ±‚å­ç±»é‡å†™æŸäº›çˆ¶ç±»çš„ï¼ˆæ˜“å˜åŒ–çš„ï¼‰æŠ½è±¡æ–¹æ³•</p> <p><strong>3. å®ç°</strong></p> <p>æ¨¡æ¿æ–¹æ³•æ¨¡å¼ä¸€èˆ¬çš„å®ç°æ–¹å¼ä¸ºç»§æ‰¿</p> <p>ä»¥è¿åŠ¨ä½œä¸ºä¾‹å­ï¼Œè¿åŠ¨æœ‰æ¯”è¾ƒé€šç”¨çš„ä¸€äº›å¤„ç†ï¼Œè¿™éƒ¨åˆ†å¯ä»¥æŠ½ç¦»å¼€æ¥ï¼Œåœ¨çˆ¶ç±»ä¸­å®ç°ã€‚å…·ä½“æŸé¡¹è¿åŠ¨çš„ç‰¹æ®Šæ€§åˆ™æœ‰è‡ªç±»æ¥é‡å†™å®ç°ã€‚</p> <p>æœ€ç»ˆå­ç±»ç›´æ¥è°ƒç”¨çˆ¶ç±»çš„æ¨¡æ¿å‡½æ•°æ¥æ‰§è¡Œ</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä½“è‚²è¿åŠ¨</span>
<span class="token keyword">function</span> <span class="token function">Sport</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token class-name">Sport</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> Sport<span class="token punctuation">,</span>
    
    <span class="token comment">// æ¨¡æ¿ï¼ŒæŒ‰é¡ºåºæ‰§è¡Œ</span>
    <span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">stretch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">jog</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">deepBreath</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">var</span> free <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// è¿åŠ¨åè¿˜æœ‰ç©ºçš„è¯ï¼Œå°±æ‹‰ä¼¸ä¸€ä¸‹</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>free <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">stretch</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// æ‹‰ä¼¸</span>
    <span class="token function-variable function">stretch</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ‹‰ä¼¸'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// æ…¢è·‘</span>
    <span class="token function-variable function">jog</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ…¢è·‘'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// æ·±å‘¼å¸</span>
    <span class="token function-variable function">deepBreath</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ·±å‘¼å¸'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// å¼€å§‹è¿åŠ¨</span>
    <span class="token function-variable function">start</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">'å­ç±»å¿…é¡»é‡å†™æ­¤æ–¹æ³•'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>

    <span class="token comment">// ç»“æŸè¿åŠ¨</span>
    <span class="token function-variable function">end</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿åŠ¨ç»“æŸ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç¯®çƒ</span>
<span class="token keyword">function</span> <span class="token function">Basketball</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token class-name">Basketball</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// é‡å†™ç›¸å…³çš„æ–¹æ³•</span>
<span class="token class-name">Basketball</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'å…ˆæŠ•ä¸Šå‡ ä¸ªä¸‰åˆ†'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Basketball</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">end</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è¿åŠ¨ç»“æŸäº†ï¼Œæœ‰äº‹å…ˆèµ°ä¸€æ­¥'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// é©¬æ‹‰æ¾</span>
<span class="token keyword">function</span> <span class="token function">Marathon</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token punctuation">}</span>

<span class="token class-name">Marathon</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Sport</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> basketball <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Basketball</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> marathon <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Marathon</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å­ç±»è°ƒç”¨ï¼Œæœ€ç»ˆä¼šæŒ‰ç…§çˆ¶ç±»å®šä¹‰çš„é¡ºåºæ‰§è¡Œ</span>
basketball<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
marathon<span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p><img src="https://images2018.cnblogs.com/blog/688270/201808/688270-20180810175832079-2143812978.png" alt="img"></p> <h2 id="ä¹ã€äº«å…ƒæ¨¡å¼"><a href="#ä¹ã€äº«å…ƒæ¨¡å¼" class="header-anchor">#</a> ä¹ã€äº«å…ƒæ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>äº«å…ƒï¼ˆflyweightï¼‰æ¨¡å¼æ˜¯ä¸€ç§ç”¨äºæ€§èƒ½ä¼˜åŒ–çš„æ¨¡å¼ï¼Œå®ƒçš„ç›®æ ‡æ˜¯å°½é‡å‡å°‘å…±äº«å¯¹è±¡çš„æ•°é‡</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>è¿ç”¨å…±äº«æŠ€æœ¯æ¥æœ‰æ•ˆæ”¯æŒå¤§é‡ç»†ç²’åº¦çš„å¯¹è±¡ã€‚</p> <p>å¼ºè°ƒå°†å¯¹è±¡çš„å±æ€§åˆ’åˆ†ä¸ºå†…éƒ¨çŠ¶æ€ï¼ˆå±æ€§ï¼‰ä¸å¤–éƒ¨çŠ¶æ€ï¼ˆå±æ€§ï¼‰ã€‚å†…éƒ¨çŠ¶æ€ç”¨äºå¯¹è±¡çš„å…±äº«ï¼Œé€šå¸¸ä¸å˜ï¼›è€Œå¤–éƒ¨çŠ¶æ€åˆ™å‰¥ç¦»å¼€æ¥ï¼Œç”±å…·ä½“çš„åœºæ™¯å†³å®šã€‚</p> <p><strong>3. å®ç°</strong></p> <p>åœ¨ç¨‹åºä¸­ä½¿ç”¨äº†å¤§é‡çš„ç›¸ä¼¼å¯¹è±¡æ—¶ï¼Œå¯ä»¥åˆ©ç”¨äº«å…ƒæ¨¡å¼æ¥ä¼˜åŒ–ï¼Œå‡å°‘å¯¹è±¡çš„æ•°é‡</p> <p>ä¸¾ä¸ªæ —å­ï¼Œè¦å¯¹æŸä¸ªç­è¿›è¡Œèº«ä½“ç´ è´¨æµ‹é‡ï¼Œä»…æµ‹é‡èº«é«˜ä½“é‡æ¥è¯„åˆ¤</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¥åº·æµ‹é‡</span>
<span class="token keyword">function</span> <span class="token function">Fitness</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height<span class="token punctuation">,</span> weight</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">=</span> age<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">=</span> height<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>weight <span class="token operator">=</span> weight<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¼€å§‹è¯„åˆ¤</span>
<span class="token class-name">Fitness</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">judge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">+</span> <span class="token string">': '</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">===</span> <span class="token string">'male'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ret <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">judgeMale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ret <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">judgeFemale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç”·æ€§è¯„åˆ¤è§„åˆ™</span>
<span class="token class-name">Fitness</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">judgeMale</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ratio <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">?</span> <span class="token punctuation">(</span>ratio <span class="token operator">&gt;</span> <span class="token number">3.5</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>ratio <span class="token operator">&gt;</span> <span class="token number">2.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// å¥³æ€§è¯„åˆ¤è§„åˆ™</span>
<span class="token class-name">Fitness</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">judgeFemale</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ratio <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">?</span> <span class="token punctuation">(</span>ratio <span class="token operator">&gt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>ratio <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fitness</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fitness</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fitness</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'female'</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fitness</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fitness</span><span class="token punctuation">(</span><span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'female'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼€å§‹è¯„åˆ¤</span>
a<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A: false</span>
b<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// B: false</span>
c<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// C: false</span>
d<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// D: true</span>
e<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// E: true</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>è¯„åˆ¤äº”ä¸ªäººå°±éœ€è¦åˆ›å»ºäº”ä¸ªå¯¹è±¡ï¼Œä¸€ä¸ªç­å°±å‡ åä¸ªå¯¹è±¡</p> <p>å¯ä»¥å°†å¯¹è±¡çš„å…¬å…±éƒ¨åˆ†ï¼ˆå†…éƒ¨çŠ¶æ€ï¼‰æŠ½ç¦»å‡ºæ¥ï¼Œä¸å¤–éƒ¨çŠ¶æ€ç‹¬ç«‹ã€‚å°†æ€§åˆ«çœ‹åšå†…éƒ¨çŠ¶æ€å³å¯ï¼Œå…¶ä»–å±æ€§éƒ½å±äºå¤–éƒ¨çŠ¶æ€ã€‚</p> <p>è¿™ä¹ˆä¸€æ¥æˆ‘ä»¬åªéœ€è¦ç»´æŠ¤ç”·å’Œå¥³ä¸¤ä¸ªå¯¹è±¡ï¼ˆä½¿ç”¨factoryå¯¹è±¡ï¼‰ï¼Œè€Œå…¶ä»–å˜åŒ–çš„éƒ¨åˆ†åˆ™åœ¨å¤–éƒ¨ç»´æŠ¤ï¼ˆä½¿ç”¨managerå¯¹è±¡ï¼‰</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å¥åº·æµ‹é‡</span>
<span class="token keyword">function</span> <span class="token function">Fitness</span><span class="token punctuation">(</span><span class="token parameter">sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">=</span> sex<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å·¥å‚ï¼Œåˆ›å»ºå¯å…±äº«çš„å¯¹è±¡</span>
<span class="token keyword">var</span> FitnessFactory <span class="token operator">=</span> <span class="token punctuation">{</span>
    objs<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

    <span class="token function-variable function">create</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">sex</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">.</span>objs<span class="token punctuation">[</span>sex<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span>objs<span class="token punctuation">[</span>sex<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Fitness</span><span class="token punctuation">(</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>

        <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>objs<span class="token punctuation">[</span>sex<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç®¡ç†å™¨ï¼Œç®¡ç†éå…±äº«çš„éƒ¨åˆ†</span>
<span class="token keyword">var</span> FitnessManager <span class="token operator">=</span> <span class="token punctuation">{</span>
    fitnessData<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// æ·»åŠ ä¸€é¡¹</span>
    <span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> sex<span class="token punctuation">,</span> age<span class="token punctuation">,</span> height<span class="token punctuation">,</span> weight</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> fitness <span class="token operator">=</span> FitnessFactory<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>sex<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// å­˜å‚¨å˜åŒ–çš„æ•°æ®</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>fitnessData<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
            age<span class="token operator">:</span> age<span class="token punctuation">,</span>
            height<span class="token operator">:</span> height<span class="token punctuation">,</span>
            weight<span class="token operator">:</span> weight
        <span class="token punctuation">}</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> fitness<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// ä»å­˜å‚¨çš„æ•°æ®ä¸­è·å–ï¼Œæ›´æ–°è‡³å½“å‰æ­£åœ¨ä½¿ç”¨çš„å¯¹è±¡</span>
    <span class="token function-variable function">updateFitnessData</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name<span class="token punctuation">,</span> obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> fitnessData <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fitnessData<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>

        <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">in</span> fitnessData<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>fitnessData<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                obj<span class="token punctuation">[</span>item<span class="token punctuation">]</span> <span class="token operator">=</span> fitnessData<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// å¼€å§‹è¯„åˆ¤</span>
<span class="token class-name">Fitness</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">judge</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ“ä½œå‰å…ˆæ›´æ–°å½“å‰çŠ¶æ€ï¼ˆä»å¤–éƒ¨çŠ¶æ€ç®¡ç†å™¨ä¸­è·å–ï¼‰</span>
    FitnessManager<span class="token punctuation">.</span><span class="token function">updateFitnessData</span><span class="token punctuation">(</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">var</span> ret <span class="token operator">=</span> name <span class="token operator">+</span> <span class="token string">': '</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>sex <span class="token operator">===</span> <span class="token string">'male'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        ret <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">judgeMale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        ret <span class="token operator">+=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">judgeFemale</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç”·æ€§è¯„åˆ¤è§„åˆ™</span>
<span class="token class-name">Fitness</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">judgeMale</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ratio <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">?</span> <span class="token punctuation">(</span>ratio <span class="token operator">&gt;</span> <span class="token number">3.5</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>ratio <span class="token operator">&gt;</span> <span class="token number">2.8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// å¥³æ€§è¯„åˆ¤è§„åˆ™</span>
<span class="token class-name">Fitness</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">judgeFemale</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> ratio <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>height <span class="token operator">/</span> <span class="token keyword">this</span><span class="token punctuation">.</span>weight<span class="token punctuation">;</span>
    
    <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>age <span class="token operator">&gt;</span> <span class="token number">20</span> <span class="token operator">?</span> <span class="token punctuation">(</span>ratio <span class="token operator">&gt;</span> <span class="token number">4</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span>ratio <span class="token operator">&gt;</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> a <span class="token operator">=</span> FitnessManager<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> b <span class="token operator">=</span> FitnessManager<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token number">21</span><span class="token punctuation">,</span> <span class="token number">180</span><span class="token punctuation">,</span> <span class="token number">70</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> c <span class="token operator">=</span> FitnessManager<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">,</span> <span class="token string">'female'</span><span class="token punctuation">,</span> <span class="token number">28</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">80</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> d <span class="token operator">=</span> FitnessManager<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">,</span> <span class="token string">'male'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">170</span><span class="token punctuation">,</span> <span class="token number">60</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> e <span class="token operator">=</span> FitnessManager<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">'E'</span><span class="token punctuation">,</span> <span class="token string">'female'</span><span class="token punctuation">,</span> <span class="token number">18</span><span class="token punctuation">,</span> <span class="token number">160</span><span class="token punctuation">,</span> <span class="token number">40</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼€å§‹è¯„åˆ¤</span>
a<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token string">'A'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A: false</span>
b<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token string">'B'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// B: false</span>
c<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token string">'C'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// C: false</span>
d<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token string">'D'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// D: true</span>
e<span class="token punctuation">.</span><span class="token function">judge</span><span class="token punctuation">(</span><span class="token string">'E'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// E: true</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>ä¸è¿‡ä»£ç å¯èƒ½æ›´å¤æ‚äº†ï¼Œè¿™ä¸ªä¾‹å­å¯èƒ½è¿˜ä¸å¤Ÿå……åˆ†ï¼Œåªæ˜¯å±•ç¤ºäº†äº«å…ƒæ¨¡å¼å¦‚ä½•å®ç°ï¼Œå®ƒèŠ‚çœäº†å¤šä¸ªç›¸ä¼¼çš„å¯¹è±¡ï¼Œä½†å¤šäº†ä¸€äº›æ“ä½œã€‚</p> <p>factoryå¯¹è±¡æœ‰ç‚¹åƒå•ä¾‹æ¨¡å¼ï¼Œåªæ˜¯å¤šäº†ä¸€ä¸ªsexçš„å‚æ•°ï¼Œå¦‚æœæ²¡æœ‰å†…éƒ¨çŠ¶æ€ï¼Œåˆ™æ²¡æœ‰å‚æ•°çš„factoryå¯¹è±¡å°±æ›´æ¥è¿‘å•ä¾‹æ¨¡å¼äº†</p> <h2 id="åã€èŒè´£é“¾æ¨¡å¼"><a href="#åã€èŒè´£é“¾æ¨¡å¼" class="header-anchor">#</a> åã€èŒè´£é“¾æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>ä½¿å¤šä¸ªå¯¹è±¡éƒ½æœ‰æœºä¼šå¤„ç†è¯·æ±‚ï¼Œä»è€Œé¿å…è¯·æ±‚çš„å‘é€è€…å’Œæ¥æ”¶è€…ä¹‹é—´çš„è€¦åˆå…³ç³»ï¼Œå°†è¿™äº›å¯¹è±¡è¿æˆä¸€æ¡é“¾ï¼Œå¹¶æ²¿ç€è¿™æ¡é“¾ ä¼ é€’è¯¥è¯·æ±‚ï¼Œç›´åˆ°æœ‰ä¸€ä¸ªå¯¹è±¡å¤„ç†å®ƒä¸ºæ­¢</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>è¯·æ±‚å‘é€è€…åªéœ€è¦çŸ¥é“é“¾ä¸­çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œå¼±åŒ–å‘é€è€…å’Œä¸€ç»„æ¥æ”¶è€…ä¹‹é—´çš„å¼ºè”ç³»ï¼Œå¯ä»¥ä¾¿æ·åœ°åœ¨èŒè´£é“¾ä¸­å¢åŠ æˆ–åˆ é™¤ä¸€ä¸ªèŠ‚ç‚¹ï¼ŒåŒæ ·åœ°ï¼ŒæŒ‡å®šè°æ˜¯ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ä¹Ÿå¾ˆä¾¿æ·</p> <p><strong>3. å®ç°</strong></p> <p>ä»¥å±•ç¤ºä¸åŒç±»å‹çš„å˜é‡ä¸ºä¾‹ï¼Œè®¾ç½®ä¸€æ¡èŒè´£é“¾ï¼Œå¯ä»¥å…å»å¤šé‡ifæ¡ä»¶åˆ†æ”¯</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å®šä¹‰é“¾çš„æŸä¸€é¡¹</span>
<span class="token keyword">function</span> <span class="token function">ChainItem</span><span class="token punctuation">(</span><span class="token parameter">fn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>fn <span class="token operator">=</span> fn<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">ChainItem</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
    constructor<span class="token operator">:</span> ChainItem<span class="token punctuation">,</span>
    
    <span class="token comment">// è®¾ç½®ä¸‹ä¸€é¡¹</span>
    <span class="token function-variable function">setNext</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>next <span class="token operator">=</span> next<span class="token punctuation">;</span>
        <span class="token keyword">return</span> next<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// å¼€å§‹æ‰§è¡Œ</span>
    <span class="token function-variable function">start</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// è½¬åˆ°é“¾çš„ä¸‹ä¸€é¡¹æ‰§è¡Œ</span>
    <span class="token function-variable function">toNext</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>next<span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
            console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ— åŒ¹é…çš„æ‰§è¡Œé¡¹ç›®'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// å±•ç¤ºæ•°å­—</span>
<span class="token keyword">function</span> <span class="token function">showNumber</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> num <span class="token operator">===</span> <span class="token string">'number'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'number'</span><span class="token punctuation">,</span> num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token comment">// è½¬ç§»åˆ°ä¸‹ä¸€é¡¹</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toNext</span><span class="token punctuation">(</span>num<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å±•ç¤ºå­—ç¬¦ä¸²</span>
<span class="token keyword">function</span> <span class="token function">showString</span><span class="token punctuation">(</span><span class="token parameter">str</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> str <span class="token operator">===</span> <span class="token string">'string'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'string'</span><span class="token punctuation">,</span> str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toNext</span><span class="token punctuation">(</span>str<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// å±•ç¤ºå¯¹è±¡</span>
<span class="token keyword">function</span> <span class="token function">showObject</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'object'</span><span class="token punctuation">,</span> obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toNext</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> chainNumber <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChainItem</span><span class="token punctuation">(</span>showNumber<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> chainString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChainItem</span><span class="token punctuation">(</span>showString<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> chainObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChainItem</span><span class="token punctuation">(</span>showObject<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è®¾ç½®é“¾æ¡</span>
chainObject<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>chainNumber<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>chainString<span class="token punctuation">)</span><span class="token punctuation">;</span>

chainString<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token string">'12'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// string 12</span>
chainNumber<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ— åŒ¹é…çš„æ‰§è¡Œé¡¹ç›®</span>
chainObject<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// object {}</span>
chainObject<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token number">123</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// number 123</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>è¿™æ—¶æƒ³åˆ¤æ–­æœªå®šä¹‰çš„æ—¶å€™å‘¢ï¼Œç›´æ¥åŠ åˆ°é“¾ä¸­å³å¯</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å±•ç¤ºæœªå®šä¹‰</span>
<span class="token keyword">function</span> <span class="token function">showUndefined</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">'undefined'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'undefined'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toNext</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> chainUndefined <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ChainItem</span><span class="token punctuation">(</span>showUndefined<span class="token punctuation">)</span><span class="token punctuation">;</span>
chainString<span class="token punctuation">.</span><span class="token function">setNext</span><span class="token punctuation">(</span>chainUndefined<span class="token punctuation">)</span><span class="token punctuation">;</span>

chainNumber<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>ç”±ä¾‹å­å¯ä»¥çœ‹åˆ°ï¼Œä½¿ç”¨äº†èŒè´£é“¾åï¼Œç”±åŸæœ¬çš„æ¡ä»¶åˆ†æ”¯æ¢æˆäº†å¾ˆå¤šå¯¹è±¡ï¼Œè™½ç„¶ç»“æ„æ›´åŠ æ¸…æ™°äº†ï¼Œä½†åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯èƒ½ä¼šå½±å“åˆ°æ€§èƒ½ï¼Œæ‰€ä»¥è¦æ³¨æ„é¿å…è¿‡é•¿çš„èŒè´£é“¾ã€‚</p> <h2 id="åä¸€ã€ä¸­ä»‹è€…æ¨¡å¼"><a href="#åä¸€ã€ä¸­ä»‹è€…æ¨¡å¼" class="header-anchor">#</a> åä¸€ã€ä¸­ä»‹è€…æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>æ‰€æœ‰çš„ç›¸å…³ å¯¹è±¡éƒ½é€šè¿‡ä¸­ä»‹è€…å¯¹è±¡æ¥é€šä¿¡ï¼Œè€Œä¸æ˜¯äº’ç›¸å¼•ç”¨ï¼Œæ‰€ä»¥å½“ä¸€ä¸ªå¯¹è±¡å‘ç”Ÿæ”¹å˜æ—¶ï¼Œåªéœ€è¦é€šçŸ¥ä¸­ä»‹è€…å¯¹è±¡å³å¯</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>ä½¿ç½‘çŠ¶çš„å¤šå¯¹å¤šå…³ç³»å˜æˆäº†ç›¸å¯¹ç®€å•çš„ä¸€å¯¹å¤šå…³ç³»ï¼ˆå¤æ‚çš„è°ƒåº¦å¤„ç†éƒ½äº¤ç»™ä¸­ä»‹è€…ï¼‰</p> <p><img src="https://images2018.cnblogs.com/blog/688270/201808/688270-20180810203810861-1292637448.png" alt="img"></p> <p>ä½¿ç”¨ä¸­ä»‹è€…å</p> <p><img src="https://images2018.cnblogs.com/blog/688270/201808/688270-20180810203755778-500873457.png" alt="img"></p> <p><strong>3. å®ç°</strong></p> <p>å¤šä¸ªå¯¹è±¡ï¼ŒæŒ‡çš„ä¸ä¸€å®šå¾—æ˜¯å®ä¾‹åŒ–çš„å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥å°†å…¶ç†è§£æˆäº’ä¸ºç‹¬ç«‹çš„å¤šä¸ªé¡¹ã€‚å½“è¿™äº›é¡¹åœ¨å¤„ç†æ—¶ï¼Œéœ€è¦çŸ¥æ™“å¹¶é€šè¿‡å…¶ä»–é¡¹çš„æ•°æ®æ¥å¤„ç†ã€‚</p> <p>å¦‚æœæ¯ä¸ªé¡¹éƒ½ç›´æ¥å¤„ç†ï¼Œç¨‹åºä¼šéå¸¸å¤æ‚ï¼Œä¿®æ”¹æŸä¸ªåœ°æ–¹å°±å¾—åœ¨å¤šä¸ªé¡¹å†…éƒ¨ä¿®æ”¹</p> <p>æˆ‘ä»¬å°†è¿™ä¸ªå¤„ç†è¿‡ç¨‹æŠ½ç¦»å‡ºæ¥ï¼Œå°è£…æˆä¸­ä»‹è€…æ¥å¤„ç†ï¼Œå„é¡¹éœ€è¦å¤„ç†æ—¶ï¼Œé€šçŸ¥ä¸­ä»‹è€…å³å¯ã€‚</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    score<span class="token operator">:</span> <span class="token number">10</span><span class="token punctuation">,</span>

    <span class="token function-variable function">changeTo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>

        <span class="token comment">// è‡ªå·±è·å–</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getRank</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    
    <span class="token comment">// ç›´æ¥è·å–</span>
    <span class="token function-variable function">getRank</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">.</span>score<span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">.</span>score<span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">.</span>score<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">return</span> a <span class="token operator">&lt;</span> b<span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>scores<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token constant">B</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    score<span class="token operator">:</span> <span class="token number">20</span><span class="token punctuation">,</span>

    <span class="token function-variable function">changeTo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>

        <span class="token comment">// é€šè¿‡ä¸­ä»‹è€…è·å–</span>
        <span class="token function">rankMediator</span><span class="token punctuation">(</span><span class="token constant">B</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token constant">C</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    score<span class="token operator">:</span> <span class="token number">30</span><span class="token punctuation">,</span>

    <span class="token function-variable function">changeTo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">score</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>score <span class="token operator">=</span> score<span class="token punctuation">;</span>

        <span class="token function">rankMediator</span><span class="token punctuation">(</span><span class="token constant">C</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ä¸­ä»‹è€…ï¼Œè®¡ç®—æ’å</span>
<span class="token keyword">function</span> <span class="token function">rankMediator</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> scores <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token constant">A</span><span class="token punctuation">.</span>score<span class="token punctuation">,</span> <span class="token constant">B</span><span class="token punctuation">.</span>score<span class="token punctuation">,</span> <span class="token constant">C</span><span class="token punctuation">.</span>score<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">a<span class="token punctuation">,</span> b</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> a <span class="token operator">&lt;</span> b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>scores<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span>person<span class="token punctuation">.</span>score<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Aé€šè¿‡è‡ªèº«æ¥å¤„ç†</span>
<span class="token constant">A</span><span class="token punctuation">.</span><span class="token function">changeTo</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>

<span class="token comment">// Bå’ŒCäº¤ç”±ä¸­ä»‹è€…å¤„ç†</span>
<span class="token constant">B</span><span class="token punctuation">.</span><span class="token function">changeTo</span><span class="token punctuation">(</span><span class="token number">200</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 1</span>
<span class="token constant">C</span><span class="token punctuation">.</span><span class="token function">changeTo</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 3</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>ABCä¸‰ä¸ªäººåˆ†æ•°æ”¹å˜åæƒ³è¦çŸ¥é“è‡ªå·±çš„æ’åï¼Œåœ¨Aä¸­è‡ªå·±å¤„ç†ï¼Œè€ŒBå’ŒCä½¿ç”¨äº†ä¸­ä»‹è€…ã€‚Bå’ŒCå°†æ›´ä¸ºè½»æ¾ï¼Œæ•´ä½“ä»£ç ä¹Ÿæ›´ç®€æ´</p> <p>æœ€åï¼Œè™½ç„¶ä¸­ä»‹è€…åšåˆ°äº†å¯¹æ¨¡å—å’Œå¯¹è±¡çš„è§£è€¦ï¼Œä½†æœ‰æ—¶å¯¹è±¡ä¹‹é—´çš„å…³ç³»å¹¶éä¸€å®šè¦è§£è€¦ï¼Œå¼ºè¡Œä½¿ç”¨ä¸­ä»‹è€…æ¥æ•´åˆï¼Œå¯èƒ½ä¼šä½¿ä»£ç æ›´ä¸ºç¹çï¼Œéœ€è¦æ³¨æ„ã€‚</p> <h2 id="åäºŒã€è£…é¥°è€…æ¨¡å¼"><a href="#åäºŒã€è£…é¥°è€…æ¨¡å¼" class="header-anchor">#</a> åäºŒã€è£…é¥°è€…æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>ä»¥åŠ¨æ€åœ°ç»™æŸä¸ªå¯¹è±¡æ·»åŠ ä¸€äº›é¢å¤–çš„èŒè´£ï¼Œè€Œä¸ä¼šå½±å“ä»è¿™ä¸ªç±»ä¸­æ´¾ç”Ÿçš„å…¶ä»–å¯¹è±¡ã€‚</p> <p>æ˜¯ä¸€ç§â€œå³ç”¨å³ä»˜â€çš„æ–¹å¼ï¼Œèƒ½å¤Ÿåœ¨ä¸æ”¹å˜å¯¹ è±¡è‡ªèº«çš„åŸºç¡€ä¸Šï¼Œåœ¨ç¨‹åºè¿è¡ŒæœŸé—´ç»™å¯¹è±¡åŠ¨æ€åœ° æ·»åŠ èŒè´£</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>æ˜¯ä¸ºå¯¹è±¡åŠ¨æ€åŠ å…¥è¡Œä¸ºï¼Œç»è¿‡å¤šé‡åŒ…è£…ï¼Œå¯ä»¥å½¢æˆä¸€æ¡è£…é¥°é“¾</p> <p><strong>3. å®ç°</strong></p> <p>æœ€ç®€å•çš„è£…é¥°è€…ï¼Œå°±æ˜¯é‡å†™å¯¹è±¡çš„å±æ€§</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> <span class="token constant">A</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
    score<span class="token operator">:</span> <span class="token number">10</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token constant">A</span><span class="token punctuation">.</span>score <span class="token operator">=</span> <span class="token string">'åˆ†æ•°ï¼š'</span> <span class="token operator">+</span> <span class="token constant">A</span><span class="token punctuation">.</span>score<span class="token punctuation">;</span>
</code></pre></div><p>å¯ä»¥ä½¿ç”¨ä¼ ç»Ÿé¢å‘å¯¹è±¡çš„æ–¹æ³•æ¥å®ç°è£…é¥°ï¼Œæ·»åŠ æŠ€èƒ½</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">function</span> <span class="token function">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

<span class="token class-name">Person</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">skill</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ•°å­¦'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// è£…é¥°å™¨ï¼Œè¿˜ä¼šéŸ³ä¹</span>
<span class="token keyword">function</span> <span class="token function">MusicDecorator</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>person <span class="token operator">=</span> person<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">MusicDecorator</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">skill</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span><span class="token function">skill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'éŸ³ä¹'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// è£…é¥°å™¨ï¼Œè¿˜ä¼šè·‘æ­¥</span>
<span class="token keyword">function</span> <span class="token function">RunDecorator</span><span class="token punctuation">(</span><span class="token parameter">person</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>person <span class="token operator">=</span> person<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">RunDecorator</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">skill</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>person<span class="token punctuation">.</span><span class="token function">skill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è·‘æ­¥'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> person <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Person</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è£…é¥°ä¸€ä¸‹</span>
<span class="token keyword">var</span> person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MusicDecorator</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
person1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RunDecorator</span><span class="token punctuation">(</span>person1<span class="token punctuation">)</span><span class="token punctuation">;</span>

person<span class="token punctuation">.</span><span class="token function">skill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ•°å­¦</span>
person1<span class="token punctuation">.</span><span class="token function">skill</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// æ•°å­¦ éŸ³ä¹ è·‘æ­¥</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>åœ¨JSä¸­ï¼Œå‡½æ•°ä¸ºä¸€ç­‰å¯¹è±¡ï¼Œæ‰€ä»¥æˆ‘ä»¬ä¹Ÿå¯ä»¥ä½¿ç”¨æ›´é€šç”¨çš„è£…é¥°å‡½æ•°</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// è£…é¥°å™¨ï¼Œåœ¨å½“å‰å‡½æ•°æ‰§è¡Œå‰å…ˆæ‰§è¡Œå¦ä¸€ä¸ªå‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">decoratorBefore</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> beforeFn</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">beforeFn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        
        <span class="token comment">// åœ¨å‰ä¸€ä¸ªå‡½æ•°ä¸­åˆ¤æ–­ï¼Œä¸éœ€è¦æ‰§è¡Œå½“å‰å‡½æ•°</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>ret <span class="token operator">!==</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">function</span> <span class="token function">skill</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'æ•°å­¦'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">skillMusic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'éŸ³ä¹'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">skillRun</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'è·‘æ­¥'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> skillDecorator <span class="token operator">=</span> <span class="token function">decoratorBefore</span><span class="token punctuation">(</span>skill<span class="token punctuation">,</span> skillMusic<span class="token punctuation">)</span><span class="token punctuation">;</span>
skillDecorator <span class="token operator">=</span> <span class="token function">decoratorBefore</span><span class="token punctuation">(</span>skillDecorator<span class="token punctuation">,</span> skillRun<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token function">skillDecorator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// è·‘æ­¥ éŸ³ä¹ æ•°å­¦</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <h2 id="åä¸‰ã€çŠ¶æ€æ¨¡å¼"><a href="#åä¸‰ã€çŠ¶æ€æ¨¡å¼" class="header-anchor">#</a> åä¸‰ã€çŠ¶æ€æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>äº‹ç‰©å†…éƒ¨çŠ¶æ€çš„æ”¹å˜å¾€å¾€ä¼šå¸¦æ¥äº‹ç‰©çš„è¡Œä¸ºæ”¹å˜ã€‚åœ¨å¤„ç†çš„æ—¶å€™ï¼Œå°†è¿™ä¸ªå¤„ç†å§”æ‰˜ç»™å½“å‰çš„çŠ¶æ€å¯¹è±¡å³å¯ï¼Œè¯¥çŠ¶æ€å¯¹è±¡ä¼šè´Ÿè´£æ¸²æŸ“å®ƒè‡ªèº«çš„è¡Œä¸º</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>åŒºåˆ†äº‹ç‰©å†…éƒ¨çš„çŠ¶æ€ï¼ŒæŠŠäº‹ç‰©çš„æ¯ç§çŠ¶æ€éƒ½å°è£…æˆå•ç‹¬çš„ç±»ï¼Œè·Ÿæ­¤ç§çŠ¶æ€æœ‰å…³çš„è¡Œä¸ºéƒ½è¢«å°è£…åœ¨è¿™ä¸ªç±»çš„å†…éƒ¨</p> <p><strong>3. å®ç°</strong></p> <p>ä»¥ä¸€ä¸ªäººçš„å·¥ä½œçŠ¶æ€ä½œä¸ºä¾‹å­ï¼Œåœ¨åˆšé†’ã€ç²¾ç¥ã€ç–²å€¦å‡ ä¸ªçŠ¶æ€ä¸­åˆ‡æ¢ç€</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// å·¥ä½œçŠ¶æ€</span>
<span class="token keyword">function</span> <span class="token function">Work</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">=</span> name<span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>currentState <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token comment">// å·¥ä½œçŠ¶æ€ï¼Œä¿å­˜ä¸ºå¯¹åº”çŠ¶æ€å¯¹è±¡</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>wakeUpState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">WakeUpState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ç²¾ç¥é¥±æ»¡</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>energeticState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">EnergeticState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ç–²å€¦</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>tiredState <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TiredState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">Work</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>currentState <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>wakeUpState<span class="token punctuation">;</span>
    
    <span class="token comment">// ç‚¹å‡»äº‹ä»¶ï¼Œç”¨äºè§¦å‘æ›´æ–°çŠ¶æ€</span>
    document<span class="token punctuation">.</span>body<span class="token punctuation">.</span><span class="token function-variable function">onclick</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>currentState<span class="token punctuation">.</span><span class="token function">behaviour</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// æ›´æ–°å·¥ä½œçŠ¶æ€</span>
<span class="token class-name">Work</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">setState</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>currentState <span class="token operator">=</span> state<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// åˆšé†’</span>
<span class="token keyword">function</span> <span class="token function">WakeUpState</span><span class="token punctuation">(</span><span class="token parameter">work</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>work <span class="token operator">=</span> work<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// åˆšé†’çš„è¡Œä¸º</span>
<span class="token class-name">WakeUpState</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">behaviour</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">':'</span><span class="token punctuation">,</span> <span class="token string">'åˆšé†’å‘¢ï¼Œç¡ä¸ªæ‡’è§‰å…ˆ'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// åªç¡äº†2ç§’é’Ÿæ‡’è§‰å°±ç²¾ç¥äº†..</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span>energeticState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ç²¾ç¥é¥±æ»¡</span>
<span class="token keyword">function</span> <span class="token function">EnergeticState</span><span class="token punctuation">(</span><span class="token parameter">work</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>work <span class="token operator">=</span> work<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">EnergeticState</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">behaviour</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">':'</span><span class="token punctuation">,</span> <span class="token string">'è¶…çº§ç²¾ç¥çš„'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// æ‰ç²¾ç¥1ç§’é’Ÿå°±å‘å›°äº†</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span>tiredState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// ç–²å€¦</span>
<span class="token keyword">function</span> <span class="token function">TiredState</span><span class="token punctuation">(</span><span class="token parameter">work</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>work <span class="token operator">=</span> work<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">TiredState</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function-variable function">behaviour</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token string">':'</span><span class="token punctuation">,</span> <span class="token string">'æ€ä¹ˆè‚¥äº‹ï¼Œå¥½å›°'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token comment">// ä¸çŸ¥ä¸è§‰ï¼Œåˆå˜æˆäº†åˆšé†’ç€çš„çŠ¶æ€... ä¸æ–­å¾ªç¯å‘€</span>
    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span><span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>work<span class="token punctuation">.</span>wakeUpState<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> work <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Work</span><span class="token punctuation">(</span><span class="token string">'æ›¹æ“'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <p>ç‚¹å‡»ä¸€ä¸‹é¡µé¢ï¼Œè§¦å‘æ›´æ–°çŠ¶æ€çš„æ“ä½œ</p> <p><img src="https://images2018.cnblogs.com/blog/688270/201808/688270-20180810223020756-1949601941.png" alt="img"></p> <p><strong>4. ä¼˜ç¼ºç‚¹</strong></p> <p><strong>ä¼˜ç‚¹</strong></p> <p>çŠ¶æ€åˆ‡æ¢çš„é€»è¾‘åˆ†å¸ƒåœ¨çŠ¶æ€ç±»ä¸­ï¼Œæ˜“äºç»´æŠ¤</p> <p><strong>ç¼ºç‚¹</strong></p> <p>å¤šä¸ªçŠ¶æ€ç±»ï¼Œå¯¹äºæ€§èƒ½æ¥è¯´ï¼Œä¹Ÿæ˜¯ä¸€ä¸ªç¼ºç‚¹ï¼Œè¿™ä¸ªç¼ºç‚¹å¯ä»¥ä½¿ç”¨äº«å…ƒæ¨¡å¼æ¥åšè¿›ä¸€æ­¥ä¼˜åŒ–</p> <p>å°†é€»è¾‘åˆ†æ•£åœ¨çŠ¶æ€ç±»ä¸­ï¼Œå¯èƒ½ä¸ä¼šå¾ˆè½»æ˜“å°±èƒ½çœ‹å‡ºçŠ¶æ€æœºçš„å˜åŒ–é€»è¾‘</p> <h2 id="åå››ã€é€‚é…å™¨æ¨¡å¼"><a href="#åå››ã€é€‚é…å™¨æ¨¡å¼" class="header-anchor">#</a> åå››ã€é€‚é…å™¨æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>æ˜¯è§£å†³ä¸¤ä¸ªè½¯ä»¶å®ä½“é—´çš„æ¥å£ä¸å…¼å®¹çš„é—®é¢˜ï¼Œå¯¹ä¸å…¼å®¹çš„éƒ¨åˆ†è¿›è¡Œé€‚é…</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>è§£å†³ä¸¤ä¸ªå·²æœ‰æ¥å£ä¹‹é—´ä¸åŒ¹é…çš„é—®é¢˜</p> <p><strong>3. å®ç°</strong></p> <p>æ¯”å¦‚ä¸€ä¸ªç®€å•çš„æ•°æ®æ ¼å¼è½¬æ¢çš„é€‚é…å™¨</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// æ¸²æŸ“æ•°æ®ï¼Œæ ¼å¼é™åˆ¶ä¸ºæ•°ç»„äº†</span>
<span class="token keyword">function</span> <span class="token function">renderData</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    data<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">item</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¯¹éæ•°ç»„çš„è¿›è¡Œè½¬æ¢é€‚é…</span>
<span class="token keyword">function</span> <span class="token function">arrayAdapter</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> data <span class="token operator">!==</span> <span class="token string">'object'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Object</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">'[object Array]'</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">var</span> temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">var</span> item <span class="token keyword">in</span> data<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>data<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span>item<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>data<span class="token punctuation">[</span>item<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> temp<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">var</span> data <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token number">0</span><span class="token operator">:</span> <span class="token string">'A'</span><span class="token punctuation">,</span>
    <span class="token number">1</span><span class="token operator">:</span> <span class="token string">'B'</span><span class="token punctuation">,</span>
    <span class="token number">2</span><span class="token operator">:</span> <span class="token string">'C'</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token function">renderData</span><span class="token punctuation">(</span><span class="token function">arrayAdapter</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// A B C</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <h2 id="åäº”ã€å¤–è§‚æ¨¡å¼"><a href="#åäº”ã€å¤–è§‚æ¨¡å¼" class="header-anchor">#</a> åäº”ã€å¤–è§‚æ¨¡å¼</h2> <p><strong>1. å®šä¹‰</strong></p> <p>ä¸ºå­ç³»ç»Ÿä¸­çš„ä¸€ç»„æ¥å£æä¾›ä¸€ä¸ªä¸€è‡´çš„ç•Œé¢ï¼Œå®šä¹‰ä¸€ä¸ªé«˜å±‚æ¥å£ï¼Œè¿™ä¸ªæ¥å£ä½¿å­ç³»ç»Ÿæ›´åŠ å®¹æ˜“ä½¿ç”¨</p> <p><strong>2. æ ¸å¿ƒ</strong></p> <p>å¯ä»¥é€šè¿‡è¯·æ±‚å¤–è§‚æ¥å£æ¥è¾¾åˆ°è®¿é—®å­ç³»ç»Ÿï¼Œä¹Ÿå¯ä»¥é€‰æ‹©è¶Šè¿‡å¤–è§‚æ¥ç›´æ¥è®¿é—®å­ç³»ç»Ÿ</p> <p><strong>3. å®ç°</strong></p> <p>å¤–è§‚æ¨¡å¼åœ¨JSä¸­ï¼Œå¯ä»¥è®¤ä¸ºæ˜¯ä¸€ç»„å‡½æ•°çš„é›†åˆ</p> <p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ä¸‰ä¸ªå¤„ç†å‡½æ•°</span>
<span class="token keyword">function</span> <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'start'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">doing</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'doing'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'end'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// å¤–è§‚å‡½æ•°ï¼Œå°†ä¸€äº›å¤„ç†ç»Ÿä¸€èµ·æ¥ï¼Œæ–¹ä¾¿è°ƒç”¨</span>
<span class="token keyword">function</span> <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">doing</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// è°ƒç”¨initå¼€å§‹æ‰§è¡Œ</span>
<span class="token keyword">function</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// æ­¤å¤„ç›´æ¥è°ƒç”¨äº†é«˜å±‚å‡½æ•°ï¼Œä¹Ÿå¯ä»¥é€‰æ‹©è¶Šè¿‡å®ƒç›´æ¥è°ƒç”¨ç›¸å…³çš„å‡½æ•°</span>
    <span class="token function">execute</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// start doing end</span>
</code></pre></div><p>[<img src="https://common.cnblogs.com/images/copycode.gif" alt="å¤åˆ¶ä»£ç ">](javascript:void(0)ğŸ˜‰</p></div> <footer class="page-edit" style="display:none;"><div class="edit-link"><a href="https://github.com/RippleHuang/ripple-blog/edit/test/docs/notes/JsNotes/è®¾è®¡æ¨¡å¼.md" target="_blank" rel="noopener noreferrer">å¸®åŠ©æˆ‘æ”¹å–„æ­¤é¡µé¢</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">æ›´æ–°æ—¶é—´: </span> <span class="time">7/26/2020, 9:25:28 AM</span></div></footer> <!----> <!----></main> <!----></div></div></div></div><div class="global-ui"><div class="back-to-ceiling" style="right:1rem;bottom:6rem;width:2.5rem;height:2.5rem;border-radius:.25rem;line-height:2.5rem;display:none;" data-v-44bd5a18 data-v-44bd5a18><svg t="1574745035067" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5404" class="icon" data-v-44bd5a18><path d="M526.60727968 10.90185116a27.675 27.675 0 0 0-29.21455937 0c-131.36607665 82.28402758-218.69155461 228.01873535-218.69155402 394.07834331a462.20625001 462.20625001 0 0 0 5.36959153 69.94390903c1.00431239 6.55289093-0.34802892 13.13561351-3.76865779 18.80351572-32.63518765 54.11355614-51.75690182 118.55860487-51.7569018 187.94566865a371.06718723 371.06718723 0 0 0 11.50484808 91.98906777c6.53300375 25.50556257 41.68394495 28.14064038 52.69160883 4.22606766 17.37162448-37.73630017 42.14135425-72.50938081 72.80769204-103.21549295 2.18761121 3.04276886 4.15646224 6.24463696 6.40373557 9.22774369a1871.4375 1871.4375 0 0 0 140.04691725 5.34970492 1866.36093723 1866.36093723 0 0 0 140.04691723-5.34970492c2.24727335-2.98310674 4.21612437-6.18497483 6.3937923-9.2178004 30.66633723 30.70611158 55.4360664 65.4791928 72.80769147 103.21549355 11.00766384 23.91457269 46.15860503 21.27949489 52.69160879-4.22606768a371.15156223 371.15156223 0 0 0 11.514792-91.99901164c0-69.36717486-19.13165746-133.82216804-51.75690182-187.92578088-3.42062944-5.66790279-4.76302748-12.26056868-3.76865837-18.80351632a462.20625001 462.20625001 0 0 0 5.36959269-69.943909c-0.00994388-166.08943902-87.32547796-311.81420293-218.6915546-394.09823051zM605.93803103 357.87693858a93.93749974 93.93749974 0 1 1-187.89594924 6.1e-7 93.93749974 93.93749974 0 0 1 187.89594924-6.1e-7z" p-id="5405" data-v-44bd5a18></path><path d="M429.50777625 765.63860547C429.50777625 803.39355007 466.44236686 1000.39046097 512.00932183 1000.39046097c45.56695499 0 82.4922232-197.00623328 82.5015456-234.7518555 0-37.75494459-36.9345906-68.35043303-82.4922232-68.34111062-45.57627738-0.00932239-82.52019037 30.59548842-82.51086798 68.34111062z" p-id="5406" data-v-44bd5a18></path></svg></div><canvas id="vuepress-canvas-ribbon"></canvas><div class="vuepress-canvas-nest-element"></div><!----><!----><div class="kanbanniang" data-v-5775ee02><div class="banniang-container" style="display:;" data-v-5775ee02><div class="messageBox" style="right:68px;bottom:190px;display:none;" data-v-5775ee02>
      æ¬¢è¿æ¥åˆ° å¿ƒæ™´æ— äº‘
    </div> <div class="operation" style="right:90px;bottom:40px;display:none;" data-v-5775ee02><i class="kbnfont kbn-ban-home ban-home" data-v-5775ee02></i> <i class="kbnfont kbn-ban-message message" data-v-5775ee02></i> <i class="kbnfont kbn-ban-close close" data-v-5775ee02></i> <a target="_blank" href="https://vuepress-theme-reco.recoluan.com/views/plugins/kanbanniang.html" data-v-5775ee02><i class="kbnfont kbn-ban-info info" data-v-5775ee02></i></a> <i class="kbnfont kbn-ban-theme skin" style="display:none;" data-v-5775ee02></i></div> <canvas id="banniang" width="150" height="180" class="live2d" style="position:fixed;right:5vw;bottom:2vh;opacity:0.7;z-index:9999;" data-v-5775ee02></canvas></div> <div class="showBanNiang" style="display:none;" data-v-5775ee02>
    çœ‹æ¿å¨˜
  </div></div></div></div>
    <script src="/assets/js/app.c625429e.js" defer></script><script src="/assets/js/4.23b04796.js" defer></script><script src="/assets/js/1.f570230b.js" defer></script><script src="/assets/js/35.6508a0d4.js" defer></script><script src="/assets/js/20.dde36c97.js" defer></script>
  </body>
</html>
