(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{663:function(t,s,a){"use strict";a.r(s);var n=a(4),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[t._v("webpack 资源打包")])]),t._v(" "),a("h2",{attrs:{id:"样式打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#样式打包"}},[t._v("#")]),t._v(" 样式打包")]),t._v(" "),a("ul",[a("li",[t._v("准备工作\n"),a("ul",[a("li",[t._v("需要在与 src 同级下创建一个"),a("code",[t._v("webpack.config.js")]),t._v("配置文件")]),t._v(" "),a("li",[t._v("当运行 webpack 指令时，会加载里面的配置")]),t._v(" "),a("li",[t._v("采用 node.js 平台运行的模块化默认采用 commonjs")]),t._v(" "),a("li",[t._v("在 main.js 中引入 css 资源")]),t._v(" "),a("li",[t._v("安装 npm i style-loader 和 css-loader")]),t._v(" "),a("li",[t._v("node 找包，是一层层往上找，这里没有往上找，父辈有，子孙都可以用")]),t._v(" "),a("li",[t._v("编写 webpack.config.js 文件，再命令行 "),a("code",[t._v("webpack")]),t._v(" 把设置编译到 built.js 中")]),t._v(" "),a("li",[t._v("在 html 页面中引入 built.js 文件")]),t._v(" "),a("li",[t._v("less 资源需要下载 style-loader 和 css-loader 和 less-loader 还有 less")])])])]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//代码")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" resolve "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"path"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nmodule"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//入口起点")]),t._v("\n  entry"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"./src/index.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//输出文件名")]),t._v("\n    filename"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"built.js"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//输出路径")]),t._v("\n    path"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"build"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  module"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rules"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//详细loader配置")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//匹配哪些文件")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//不同文件必须配置不同的loader处理")]),t._v("\n        test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.css$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//使用哪些loader进行处理")]),t._v("\n        use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//执行顺序，从右到左，从上到下")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//创建style标签，将js中的样式资源插入进行，添加到head生效")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"style-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//将css文件变成commonjs模块加载js中，里面内容是样式字符串")]),t._v("\n          "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"css-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\.less$/")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        use"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"style-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"css-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"less-loader"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//插件配置")]),t._v("\n  plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//模式")]),t._v("\n  mode"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"delelopment"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h2",{attrs:{id:"html-打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#html-打包"}},[t._v("#")]),t._v(" html 打包")]),t._v(" "),a("ul",[a("li",[t._v("准备工作\n"),a("ul",[a("li",[t._v("下载 loader 并配置 loader")]),t._v(" "),a("li",[t._v("下载 plugins 引入 使用，插件名 html-webpack-plugin")]),t._v(" "),a("li",[t._v("在 webpack 中引入 html-webpack-plugin，在 plugin 中 构造一个"),a("code",[t._v("new HtmlWebpackPlugin({template:'./src/index.html'})")])]),t._v(" "),a("li",[t._v("webpack 编译自动引入打包输出的所有资源(js/css)")])])])]),t._v(" "),a("h2",{attrs:{id:"图片打包"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#图片打包"}},[t._v("#")]),t._v(" 图片打包")]),t._v(" "),a("ul",[a("li",[t._v("准备工作 下载 url-loader file-loader")]),t._v(" "),a("li",[t._v("url-loader 不能处理 html 中内嵌的图片，需要 html-loader 负责引入 img，从而被 url-loader 处理")]),t._v(" "),a("li",[t._v("webpack 编译")])]),t._v(" "),a("h2",{attrs:{id:"打包其他资源"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#打包其他资源"}},[t._v("#")]),t._v(" 打包其他资源")]),t._v(" "),a("ul",[a("li",[t._v("概念：不用处理的资源为其他资源\n"),a("ul",[a("li",[t._v("准备工作 需要 下载 file-loader")]),t._v(" "),a("li",[t._v("在 rules 中配置 exclude:"),a("code",[t._v("/\\.(css|js|html|png|jpg|giF)$/")]),t._v(","),a("code",[t._v("loader:'file-loader'")])]),t._v(" "),a("li",[t._v("webpack 编译")])])])])])}),[],!1,null,null,null);s.default=e.exports}}]);