(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{660:function(s,t,a){"use strict";a.r(t);var n=a(4),e=Object(n.a)({},(function(){var s=this,t=s.$createElement,a=s._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("div",{staticClass:"custom-block tip"},[a("p",[s._v("webpack css的处理及devServer使用")])]),s._v(" "),a("h2",{attrs:{id:"devserver-使用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#devserver-使用"}},[s._v("#")]),s._v(" devServer 使用")]),s._v(" "),a("ul",[a("li",[s._v("概念 ：开发服务器 devServer，用来自动化(自动编译，自动打开浏览器，自动刷新浏览器)")]),s._v(" "),a("li",[s._v("特点：只会在内存中编译打包，不会有任何输出")]),s._v(" "),a("li",[s._v("启动 devServer 指令为：npx webpack-dev-server")]),s._v(" "),a("li",[s._v("需要安装 webpack-dev-server")]),s._v(" "),a("li",[s._v("在 index.js 中 mode 下配置")])]),s._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[s._v("  devserver"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    ontentBase"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("resolve")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("__dirname"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'build'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//启动gzip压缩")]),s._v("\n    compress"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//端口号")]),s._v("\n    port"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("3000")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//自动打开浏览器")]),s._v("\n    open"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token boolean"}},[s._v("true")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"提取-css-成单独文件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#提取-css-成单独文件"}},[s._v("#")]),s._v(" 提取 css 成单独文件")]),s._v(" "),a("ul",[a("li",[s._v("准备工作\n"),a("ul",[a("li",[s._v("下载 mini-css-extract-plugin")]),s._v(" "),a("li",[s._v("在 config.js 中引入所下载的")]),s._v(" "),a("li",[s._v("在 plugins 中配置 "),a("code",[s._v("new MiniCssExtractPlugin()")])]),s._v(" "),a("li",[s._v("把 style-loader 替换为 "),a("code",[s._v("MiniCssExtractPlugin.loader")])]),s._v(" "),a("li",[s._v("如果需要输出到文件夹中在 plugins "),a("code",[s._v("new MiniCssExtractPlugin()")]),s._v("中配置 "),a("code",[s._v("filename:'css/built.css'")]),s._v("就可以")])])])]),s._v(" "),a("h2",{attrs:{id:"css-兼容问题"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#css-兼容问题"}},[s._v("#")]),s._v(" css 兼容问题")]),s._v(" "),a("ul",[a("li",[s._v("postcss 的两个 postcss-loader 和 postcss-preset-env")]),s._v(" "),a("li",[s._v("帮 postcss 找到 package.json 中 browserslist 里面的配置，通过配置加载指定的 css 兼容性样式")])]),s._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"browserslist"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"development"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        \x3c!-- 开发环境\n        设置node.js环境变量\n        process.env.NODE_ENV = 'development' --\x3e\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 chrome version"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 firefox version"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"last 1 safari version"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token property"}},[s._v('"production"')]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n      \x3c!-- 兼容大于"),a("span",{pre:!0,attrs:{class:"token number"}},[s._v("99.8")]),s._v("的浏览器 --\x3e\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('">0.2%"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      \x3c!-- 不要死的浏览器 --\x3e\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not dead"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n      \x3c!-- 不要op_mini这个浏览器 --\x3e\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v('"not op_mini all"')]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n  "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//第一种：使用loader的默认配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//'postcss-loader'")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//第二种：修改loader的配置")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    loader"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-loader'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    options"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("{")]),s._v("\n    ident"),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[s._v("plugins")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v(":")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token comment"}},[s._v("//postcss插件")]),s._v("\n        "),a("span",{pre:!0,attrs:{class:"token function"}},[s._v("require")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[s._v("'postcss-preset-env'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("}")]),s._v("\n")])])]),a("h2",{attrs:{id:"压缩-css"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#压缩-css"}},[s._v("#")]),s._v(" 压缩 css")]),s._v(" "),a("ul",[a("li",[s._v("下载插件 optimize-css-assets-webpack-plugin")]),s._v(" "),a("li",[s._v("引入 config.js 中引入")]),s._v(" "),a("li",[s._v("在 plugin 中 "),a("code",[s._v("new OptimizeCssAssetsWebpackPlugin()")]),s._v("就可以以了")])])])}),[],!1,null,null,null);t.default=e.exports}}]);