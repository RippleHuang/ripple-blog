(window.webpackJsonp=window.webpackJsonp||[]).push([[55],{673:function(e,t,o){"use strict";o.r(t);var s=o(4),a=Object(s.a)({},(function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[o("div",{staticClass:"custom-block tip"},[o("p",[e._v("WebSocket")])]),e._v(" "),o("h1",{attrs:{id:"websocket"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#websocket"}},[e._v("#")]),e._v(" WebSocket")]),e._v(" "),o("p",[o("strong",[e._v("WebSocket æ˜¯ä»€ä¹ˆ")])]),e._v(" "),o("p",[o("a",{attrs:{href:"http://websocket.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("WebSocket"),o("OutboundLink")],1),e._v(" æ˜¯ä¸€ç§ç½‘ç»œé€šä¿¡åè®®ã€‚"),o("a",{attrs:{href:"https://tools.ietf.org/html/rfc6455",target:"_blank",rel:"noopener noreferrer"}},[e._v("RFC6455"),o("OutboundLink")],1),e._v(" å®šä¹‰äº†å®ƒçš„é€šä¿¡æ ‡å‡†ã€‚")]),e._v(" "),o("p",[e._v("WebSocket æ˜¯ HTML5 å¼€å§‹æä¾›çš„ä¸€ç§åœ¨å•ä¸ª TCP è¿æ¥ä¸Šè¿›è¡Œå…¨åŒå·¥é€šè®¯çš„åè®®ã€‚")]),e._v(" "),o("h3",{attrs:{id:"ä¸ºä»€ä¹ˆéœ€è¦-websocket"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#ä¸ºä»€ä¹ˆéœ€è¦-websocket"}},[e._v("#")]),e._v(" ä¸ºä»€ä¹ˆéœ€è¦ WebSocket")]),e._v(" "),o("p",[e._v("äº†è§£è®¡ç®—æœºç½‘ç»œåè®®çš„äººï¼Œåº”è¯¥éƒ½çŸ¥é“ï¼šHTTP åè®®æ˜¯ä¸€ç§æ— çŠ¶æ€çš„ã€æ— è¿æ¥çš„ã€å•å‘çš„åº”ç”¨å±‚åè®®ã€‚å®ƒé‡‡ç”¨äº†è¯·æ±‚/å“åº”æ¨¡å‹ã€‚é€šä¿¡è¯·æ±‚åªèƒ½ç”±å®¢æˆ·ç«¯å‘èµ·ï¼ŒæœåŠ¡ç«¯å¯¹è¯·æ±‚åšå‡ºåº”ç­”å¤„ç†ã€‚")]),e._v(" "),o("p",[e._v("è¿™ç§é€šä¿¡æ¨¡å‹æœ‰ä¸€ä¸ªå¼Šç«¯ï¼šHTTP åè®®æ— æ³•å®ç°æœåŠ¡å™¨ä¸»åŠ¨å‘å®¢æˆ·ç«¯å‘èµ·æ¶ˆæ¯ã€‚")]),e._v(" "),o("p",[e._v("è¿™ç§å•å‘è¯·æ±‚çš„ç‰¹ç‚¹ï¼Œæ³¨å®šäº†å¦‚æœæœåŠ¡å™¨æœ‰è¿ç»­çš„çŠ¶æ€å˜åŒ–ï¼Œå®¢æˆ·ç«¯è¦è·çŸ¥å°±éå¸¸éº»çƒ¦ã€‚å¤§å¤šæ•° Web åº”ç”¨ç¨‹åºå°†é€šè¿‡é¢‘ç¹çš„å¼‚æ­¥JavaScriptå’ŒXMLï¼ˆAJAXï¼‰è¯·æ±‚å®ç°é•¿è½®è¯¢ã€‚è½®è¯¢çš„æ•ˆç‡ä½ï¼Œéå¸¸æµªè´¹èµ„æºï¼ˆå› ä¸ºå¿…é¡»ä¸åœè¿æ¥ï¼Œæˆ–è€… HTTP è¿æ¥å§‹ç»ˆæ‰“å¼€ï¼‰ã€‚")]),e._v(" "),o("p",[e._v("å› æ­¤ï¼Œå·¥ç¨‹å¸ˆä»¬ä¸€ç›´åœ¨æ€è€ƒï¼Œæœ‰æ²¡æœ‰æ›´å¥½çš„æ–¹æ³•ã€‚WebSocket å°±æ˜¯è¿™æ ·å‘æ˜çš„ã€‚WebSocket  è¿æ¥å…è®¸å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ä¹‹é—´è¿›è¡Œå…¨åŒå·¥é€šä¿¡ï¼Œä»¥ä¾¿ä»»ä¸€æ–¹éƒ½å¯ä»¥é€šè¿‡å»ºç«‹çš„è¿æ¥å°†æ•°æ®æ¨é€åˆ°å¦ä¸€ç«¯ã€‚WebSocket  åªéœ€è¦å»ºç«‹ä¸€æ¬¡è¿æ¥ï¼Œå°±å¯ä»¥ä¸€ç›´ä¿æŒè¿æ¥çŠ¶æ€ã€‚è¿™ç›¸æ¯”äºè½®è¯¢æ–¹å¼çš„ä¸åœå»ºç«‹è¿æ¥æ˜¾ç„¶æ•ˆç‡è¦å¤§å¤§æé«˜ã€‚")]),e._v(" "),o("h3",{attrs:{id:"websocket-å¦‚ä½•å·¥ä½œ"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#websocket-å¦‚ä½•å·¥ä½œ"}},[e._v("#")]),e._v(" WebSocket å¦‚ä½•å·¥ä½œ")]),e._v(" "),o("p",[e._v("Webæµè§ˆå™¨å’ŒæœåŠ¡å™¨éƒ½å¿…é¡»å®ç° WebSockets åè®®æ¥å»ºç«‹å’Œç»´æŠ¤è¿æ¥ã€‚ç”±äº WebSockets è¿æ¥é•¿æœŸå­˜åœ¨ï¼Œä¸å…¸å‹çš„HTTPè¿æ¥ä¸åŒï¼Œå¯¹æœåŠ¡å™¨æœ‰é‡è¦çš„å½±å“ã€‚")]),e._v(" "),o("p",[e._v("åŸºäºå¤šçº¿ç¨‹æˆ–å¤šè¿›ç¨‹çš„æœåŠ¡å™¨æ— æ³•é€‚ç”¨äº WebSocketsï¼Œå› ä¸ºå®ƒæ—¨åœ¨æ‰“å¼€è¿æ¥ï¼Œå°½å¯èƒ½å¿«åœ°å¤„ç†è¯·æ±‚ï¼Œç„¶åå…³é—­è¿æ¥ã€‚ä»»ä½•å®é™…çš„ WebSockets æœåŠ¡å™¨ç«¯å®ç°éƒ½éœ€è¦ä¸€ä¸ªå¼‚æ­¥æœåŠ¡å™¨ã€‚")]),e._v(" "),o("h2",{attrs:{id:"websocket-å®¢æˆ·ç«¯"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#websocket-å®¢æˆ·ç«¯"}},[e._v("#")]),e._v(" WebSocket å®¢æˆ·ç«¯")]),e._v(" "),o("p",[e._v("åœ¨å®¢æˆ·ç«¯ï¼Œæ²¡æœ‰å¿…è¦ä¸º WebSockets ä½¿ç”¨ JavaScript åº“ã€‚å®ç° WebSockets çš„ Web æµè§ˆå™¨å°†é€šè¿‡ WebSockets å¯¹è±¡å…¬å¼€æ‰€æœ‰å¿…éœ€çš„å®¢æˆ·ç«¯åŠŸèƒ½ï¼ˆä¸»è¦æŒ‡æ”¯æŒ Html5 çš„æµè§ˆå™¨ï¼‰ã€‚")]),e._v(" "),o("h3",{attrs:{id:"å®¢æˆ·ç«¯-api"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#å®¢æˆ·ç«¯-api"}},[e._v("#")]),e._v(" å®¢æˆ·ç«¯ API")]),e._v(" "),o("p",[e._v("ä»¥ä¸‹ API ç”¨äºåˆ›å»º WebSocket å¯¹è±¡ã€‚")]),e._v(" "),o("p",[e._v("ç¬¬ä¸€ä¸ªå‚æ•° url, æŒ‡å®šè¿æ¥çš„ URLã€‚ç¬¬äºŒä¸ªå‚æ•° protocol æ˜¯å¯é€‰çš„ï¼ŒæŒ‡å®šäº†å¯æ¥å—çš„å­åè®®ã€‚")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v("var Socket = new WebSocket(url, [protocol] );\n")])])]),o("h4",{attrs:{id:"websocket-å±æ€§"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#websocket-å±æ€§"}},[e._v("#")]),e._v(" WebSocket å±æ€§")]),e._v(" "),o("p",[e._v("ä»¥ä¸‹æ˜¯ WebSocket å¯¹è±¡çš„å±æ€§ã€‚å‡å®šæˆ‘ä»¬ä½¿ç”¨äº†ä»¥ä¸Šä»£ç åˆ›å»ºäº† Socket å¯¹è±¡ï¼š")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://img2018.cnblogs.com/blog/591234/201905/591234-20190508204323615-1243132672.png",alt:"img"}})]),e._v(" "),o("h4",{attrs:{id:"websocket-äº‹ä»¶"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#websocket-äº‹ä»¶"}},[e._v("#")]),e._v(" WebSocket äº‹ä»¶")]),e._v(" "),o("p",[e._v("ä»¥ä¸‹æ˜¯ WebSocket å¯¹è±¡çš„ç›¸å…³äº‹ä»¶ã€‚å‡å®šæˆ‘ä»¬ä½¿ç”¨äº†ä»¥ä¸Šä»£ç åˆ›å»ºäº† Socket å¯¹è±¡ï¼š")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://img2018.cnblogs.com/blog/591234/201905/591234-20190508204421745-1935938564.png",alt:"img"}})]),e._v(" "),o("h4",{attrs:{id:"websocket-æ–¹æ³•"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#websocket-æ–¹æ³•"}},[e._v("#")]),e._v(" WebSocket æ–¹æ³•")]),e._v(" "),o("p",[e._v("ä»¥ä¸‹æ˜¯ WebSocket å¯¹è±¡çš„ç›¸å…³æ–¹æ³•ã€‚å‡å®šæˆ‘ä»¬ä½¿ç”¨äº†ä»¥ä¸Šä»£ç åˆ›å»ºäº† Socket å¯¹è±¡ï¼š")]),e._v(" "),o("p",[o("img",{attrs:{src:"https://img2018.cnblogs.com/blog/591234/201905/591234-20190508204502296-891941276.png",alt:"img"}})]),e._v(" "),o("p",[e._v("["),o("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),e._v("](javascript:void(0)ğŸ˜‰")]),e._v(" "),o("div",{staticClass:"language- extra-class"},[o("pre",{pre:!0,attrs:{class:"language-text"}},[o("code",[e._v('// åˆå§‹åŒ–ä¸€ä¸ª WebSocket å¯¹è±¡\nvar ws = new WebSocket("ws://localhost:9998/echo");\n\n// å»ºç«‹ web socket è¿æ¥æˆåŠŸè§¦å‘äº‹ä»¶\nws.onopen = function () {\n  // ä½¿ç”¨ send() æ–¹æ³•å‘é€æ•°æ®\n  ws.send("å‘é€æ•°æ®");\n  alert("æ•°æ®å‘é€ä¸­...");\n};\n\n// æ¥æ”¶æœåŠ¡ç«¯æ•°æ®æ—¶è§¦å‘äº‹ä»¶\nws.onmessage = function (evt) {\n  var received_msg = evt.data;\n  alert("æ•°æ®å·²æ¥æ”¶...");\n};\n\n// æ–­å¼€ web socket è¿æ¥æˆåŠŸè§¦å‘äº‹ä»¶\nws.onclose = function () {\n  alert("è¿æ¥å·²å…³é—­...");\n};\n')])])]),o("p",[e._v("["),o("img",{attrs:{src:"https://common.cnblogs.com/images/copycode.gif",alt:"å¤åˆ¶ä»£ç "}}),e._v("](javascript:void(0)ğŸ˜‰")]),e._v(" "),o("h2",{attrs:{id:"websocket-æœåŠ¡ç«¯"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#websocket-æœåŠ¡ç«¯"}},[e._v("#")]),e._v(" WebSocket æœåŠ¡ç«¯")]),e._v(" "),o("p",[e._v("WebSocket åœ¨æœåŠ¡ç«¯çš„å®ç°éå¸¸ä¸°å¯Œã€‚Node.jsã€Javaã€C++ã€Python ç­‰å¤šç§è¯­è¨€éƒ½æœ‰è‡ªå·±çš„è§£å†³æ–¹æ¡ˆã€‚")]),e._v(" "),o("p",[e._v("ä»¥ä¸‹ï¼Œä»‹ç»æˆ‘åœ¨å­¦ä¹  WebSocket è¿‡ç¨‹ä¸­æ¥è§¦è¿‡çš„ WebSocket æœåŠ¡ç«¯è§£å†³æ–¹æ¡ˆã€‚")]),e._v(" "),o("h2",{attrs:{id:"websocket-æœåŠ¡ç«¯-2"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#websocket-æœåŠ¡ç«¯-2"}},[e._v("#")]),e._v(" WebSocket æœåŠ¡ç«¯")]),e._v(" "),o("p",[e._v("WebSocket åœ¨æœåŠ¡ç«¯çš„å®ç°éå¸¸ä¸°å¯Œã€‚Node.jsã€Javaã€C++ã€Python ç­‰å¤šç§è¯­è¨€éƒ½æœ‰è‡ªå·±çš„è§£å†³æ–¹æ¡ˆã€‚")]),e._v(" "),o("p",[e._v("ä»¥ä¸‹ï¼Œä»‹ç»æˆ‘åœ¨å­¦ä¹  WebSocket è¿‡ç¨‹ä¸­æ¥è§¦è¿‡çš„ WebSocket æœåŠ¡ç«¯è§£å†³æ–¹æ¡ˆã€‚")]),e._v(" "),o("h3",{attrs:{id:"node-js"}},[o("a",{staticClass:"header-anchor",attrs:{href:"#node-js"}},[e._v("#")]),e._v(" Node.js")]),e._v(" "),o("p",[e._v("å¸¸ç”¨çš„ Node å®ç°æœ‰ä»¥ä¸‹ä¸‰ç§ã€‚")]),e._v(" "),o("p",[o("a",{attrs:{href:"https://github.com/uWebSockets/uWebSockets",target:"_blank",rel:"noopener noreferrer"}},[e._v("ÂµWebSockets"),o("OutboundLink")],1)]),e._v(" "),o("p",[o("a",{attrs:{href:"http://socket.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Socket.IO"),o("OutboundLink")],1)]),e._v(" "),o("p",[o("a",{attrs:{href:"https://github.com/theturtle32/WebSocket-Node",target:"_blank",rel:"noopener noreferrer"}},[e._v("WebSocket-Node"),o("OutboundLink")],1)])])}),[],!1,null,null,null);t.default=a.exports}}]);